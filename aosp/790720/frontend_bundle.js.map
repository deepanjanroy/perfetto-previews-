{"version":3,"file":"frontend_bundle.js","sources":["../../../ui/src/frontend/index.ts","../../../ui/src/frontend/viewer_page.ts","../../../ui/src/frontend/track_group_panel.ts","../../../ui/src/frontend/time_axis_panel.ts","../../../ui/src/frontend/track_panel.ts","../../../ui/src/frontend/gridline_helper.ts","../../../ui/src/frontend/panel_container.ts","../../../ui/src/frontend/pan_and_zoom_handler.ts","../../../ui/src/frontend/animation.ts","../../../ui/src/frontend/overview_timeline_panel.ts","../../../ui/src/frontend/drag_gesture_handler.ts","../../../ui/src/frontend/header_panel.ts","../../../ui/src/frontend/flame_graph_panel.ts","../../../ui/src/frontend/panel.ts","../../../ui/src/frontend/router.ts","../../../ui/src/frontend/record_page.ts","../../../ui/src/frontend/clipboard.ts","../../../ui/node_modules/tslib/tslib.es6.js","../../../ui/src/frontend/home_page.ts","../../../ui/src/frontend/pages.ts","../../../ui/src/frontend/topbar.ts","../../../ui/src/frontend/sidebar.ts","../../../ui/src/base/remote.ts","../../../ui/src/base/deferred.ts","../../../ui/src/tracks/process_summary/frontend.ts","../../../ui/src/tracks/process_summary/common.ts","../../../ui/src/tracks/vsync/frontend.ts","../../../ui/src/tracks/vsync/common.ts","../../../ui/src/tracks/chrome_slices/frontend.ts","../../../ui/src/tracks/chrome_slices/common.ts","../../../ui/src/tracks/cpu_slices/frontend.ts","../../../ui/src/tracks/cpu_slices/common.ts","../../../ui/src/frontend/track_registry.ts","../../../ui/src/common/registry.ts","../../../ui/src/frontend/track.ts","../../../ui/src/frontend/globals.ts","../../../ui/src/frontend/raf_scheduler.ts","../../../ui/src/frontend/perf.ts","../../../ui/node_modules/mithril/mithril.js","../../../ui/src/frontend/frontend_local_state.ts","../../../ui/src/frontend/time_scale.ts","../../../ui/src/common/time.ts","../../../ui/src/frontend/checkerboard.ts","../../../ui/src/common/actions.ts","../../../ui/src/common/state.ts","../../../ui/src/base/logging.ts"],"sourcesContent":["// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport '../tracks/all_frontend';\n\nimport * as m from 'mithril';\n\nimport {forwardRemoteCalls} from '../base/remote';\nimport {Actions} from '../common/actions';\nimport {State} from '../common/state';\nimport {TimeSpan} from '../common/time';\nimport {globals, QuantizedLoad, ThreadDesc} from './globals';\nimport {HomePage} from './home_page';\nimport {RecordPage} from './record_page';\nimport {Router} from './router';\nimport {ViewerPage} from './viewer_page';\n\n/**\n * The API the main thread exposes to the controller.\n */\nclass FrontendApi {\n  constructor(private router: Router) {}\n\n  updateState(state: State) {\n    globals.state = state;\n\n    // If the visible time in the global state has been updated more recently\n    // than the visible time handled by the frontend @ 60fps, update it. This\n    // typically happens when restoring the state from a permalink.\n    const vizTraceTime = globals.state.visibleTraceTime;\n    if (vizTraceTime.lastUpdate >\n        globals.frontendLocalState.visibleTimeLastUpdate) {\n      globals.frontendLocalState.updateVisibleTime(\n          new TimeSpan(vizTraceTime.startSec, vizTraceTime.endSec));\n    }\n\n    this.redraw();\n  }\n\n  // TODO: we can't have a publish method for each batch of data that we don't\n  // want to keep in the global state. Figure out a more generic and type-safe\n  // mechanism to achieve this.\n\n  publishOverviewData(data: {[key: string]: QuantizedLoad}) {\n    for (const key of Object.keys(data)) {\n      if (!globals.overviewStore.has(key)) {\n        globals.overviewStore.set(key, []);\n      }\n      globals.overviewStore.get(key)!.push(data[key]);\n    }\n    globals.rafScheduler.scheduleRedraw();\n  }\n\n  publishTrackData(args: {id: string, data: {}}) {\n    globals.trackDataStore.set(args.id, args.data);\n    globals.rafScheduler.scheduleRedraw();\n  }\n\n  publishQueryResult(args: {id: string, data: {}}) {\n    globals.queryResults.set(args.id, args.data);\n    this.redraw();\n  }\n\n  publishThreads(data: ThreadDesc[]) {\n    globals.threads.clear();\n    data.forEach(thread => {\n      globals.threads.set(thread.utid, thread);\n    });\n    this.redraw();\n  }\n\n  private redraw(): void {\n    if (globals.state.route &&\n        globals.state.route !== this.router.getRouteFromHash()) {\n      this.router.setRouteOnHash(globals.state.route);\n    }\n\n    globals.rafScheduler.scheduleFullRedraw();\n  }\n}\n\nfunction main() {\n  const controller = new Worker('controller_bundle.js');\n  controller.onerror = e => {\n    console.error(e);\n  };\n  const channel = new MessageChannel();\n  controller.postMessage(channel.port1, [channel.port1]);\n  const dispatch = controller.postMessage.bind(controller);\n  const router = new Router(\n      '/',\n      {\n        '/': HomePage,\n        '/viewer': ViewerPage,\n        '/record': RecordPage,\n      },\n      dispatch);\n  forwardRemoteCalls(channel.port2, new FrontendApi(router));\n  globals.initialize(dispatch);\n\n  globals.rafScheduler.domRedraw = () =>\n      m.render(document.body, m(router.resolve(globals.state.route)));\n\n\n  // Put these variables in the global scope for better debugging.\n  (window as {} as {m: {}}).m = m;\n  (window as {} as {globals: {}}).globals = globals;\n\n  // /?s=xxxx for permalinks.\n  const stateHash = router.param('s');\n  if (stateHash) {\n    // TODO(hjd): Should requestId not be set to nextId++ in the controller?\n    globals.dispatch(Actions.loadPermalink({\n      requestId: new Date().toISOString(),\n      hash: stateHash,\n    }));\n  }\n\n  // Prevent pinch zoom.\n  document.body.addEventListener('wheel', (e: MouseEvent) => {\n    if (e.ctrlKey) e.preventDefault();\n  });\n\n  router.navigateToCurrentHash();\n}\n\nmain();\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {QueryResponse} from '../common/queries';\nimport {TimeSpan} from '../common/time';\n\nimport {copyToClipboard} from './clipboard';\nimport {FlameGraphPanel} from './flame_graph_panel';\nimport {globals} from './globals';\nimport {HeaderPanel} from './header_panel';\nimport {OverviewTimelinePanel} from './overview_timeline_panel';\nimport {createPage} from './pages';\nimport {PanAndZoomHandler} from './pan_and_zoom_handler';\nimport {Panel} from './panel';\nimport {AnyAttrsVnode, PanelContainer} from './panel_container';\nimport {TimeAxisPanel} from './time_axis_panel';\nimport {TrackGroupPanel} from './track_group_panel';\nimport {TRACK_SHELL_WIDTH} from './track_panel';\nimport {TrackPanel} from './track_panel';\n\n\nconst MAX_ZOOM_SPAN_SEC = 1e-4;  // 0.1 ms.\n\nclass QueryTable extends Panel {\n  view() {\n    const resp = globals.queryResults.get('command') as QueryResponse;\n    if (resp === undefined) {\n      return m('');\n    }\n    const cols = [];\n    for (const col of resp.columns) {\n      cols.push(m('td', col));\n    }\n    const header = m('tr', cols);\n\n    const rows = [];\n    for (let i = 0; i < resp.rows.length; i++) {\n      const cells = [];\n      for (const col of resp.columns) {\n        cells.push(m('td', resp.rows[i][col]));\n      }\n      rows.push(m('tr', cells));\n    }\n    return m(\n        'div',\n        m('header.overview',\n          m('span',\n            `Query result - ${Math.round(resp.durationMs)} ms`,\n            m('span.code', resp.query)),\n          resp.error ? null :\n                       m('button',\n                         {\n                           onclick: () => {\n                             const lines: string[][] = [];\n                             lines.push(resp.columns);\n                             for (const row of resp.rows) {\n                               const line = [];\n                               for (const col of resp.columns) {\n                                 line.push(row[col].toString());\n                               }\n                               lines.push(line);\n                             }\n                             copyToClipboard(\n                                 lines.map(line => line.join('\\t')).join('\\n'));\n                           },\n                         },\n                         'Copy as .tsv')),\n        resp.error ?\n            m('.query-error', `SQL error: ${resp.error}`) :\n            m('table.query-table', m('thead', header), m('tbody', rows)));\n  }\n\n  renderCanvas() {}\n}\n\n/**\n * Top-most level component for the viewer page. Holds tracks, brush timeline,\n * panels, and everything else that's part of the main trace viewer page.\n */\nclass TraceViewer implements m.ClassComponent {\n  private onResize: () => void = () => {};\n  private zoomContent?: PanAndZoomHandler;\n\n  oncreate(vnode: m.CVnodeDOM) {\n    const frontendLocalState = globals.frontendLocalState;\n    const updateDimensions = () => {\n      const rect = vnode.dom.getBoundingClientRect();\n      frontendLocalState.timeScale.setLimitsPx(\n          0, rect.width - TRACK_SHELL_WIDTH);\n    };\n\n    updateDimensions();\n\n    // TODO: Do resize handling better.\n    this.onResize = () => {\n      updateDimensions();\n      globals.rafScheduler.scheduleFullRedraw();\n    };\n\n    // Once ResizeObservers are out, we can stop accessing the window here.\n    window.addEventListener('resize', this.onResize);\n\n    const panZoomEl =\n        vnode.dom.querySelector('.pan-and-zoom-content') as HTMLElement;\n\n    this.zoomContent = new PanAndZoomHandler({\n      element: panZoomEl,\n      contentOffsetX: TRACK_SHELL_WIDTH,\n      onPanned: (pannedPx: number) => {\n        const traceTime = globals.state.traceTime;\n        const vizTime = globals.frontendLocalState.visibleWindowTime;\n        const origDelta = vizTime.duration;\n        const tDelta = frontendLocalState.timeScale.deltaPxToDuration(pannedPx);\n        let tStart = vizTime.start + tDelta;\n        let tEnd = vizTime.end + tDelta;\n        if (tStart < traceTime.startSec) {\n          tStart = traceTime.startSec;\n          tEnd = tStart + origDelta;\n        } else if (tEnd > traceTime.endSec) {\n          tEnd = traceTime.endSec;\n          tStart = tEnd - origDelta;\n        }\n        frontendLocalState.updateVisibleTime(new TimeSpan(tStart, tEnd));\n      },\n      onZoomed: (_: number, zoomRatio: number) => {\n        const vizTime = frontendLocalState.visibleWindowTime;\n        const curSpanSec = vizTime.duration;\n        const newSpanSec =\n            Math.max(curSpanSec - curSpanSec * zoomRatio, MAX_ZOOM_SPAN_SEC);\n        const deltaSec = (curSpanSec - newSpanSec) / 2;\n        const newStartSec = vizTime.start + deltaSec;\n        const newEndSec = vizTime.end - deltaSec;\n        frontendLocalState.updateVisibleTime(\n            new TimeSpan(newStartSec, newEndSec));\n      }\n    });\n  }\n\n  onremove() {\n    window.removeEventListener('resize', this.onResize);\n    if (this.zoomContent) this.zoomContent.shutdown();\n  }\n\n  view() {\n    const scrollingPanels: AnyAttrsVnode[] =\n        globals.state.scrollingTracks.length > 0 ?\n        [\n          m(HeaderPanel, {title: 'Tracks', key: 'tracksheader'}),\n          ...globals.state.scrollingTracks.map(\n              id => m(TrackPanel, {key: id, id})),\n          m(FlameGraphPanel, {key: 'flamegraph'}),\n        ] :\n        [];\n\n    for (const group of Object.values(globals.state.trackGroups)) {\n      scrollingPanels.push(m(TrackGroupPanel, {\n        trackGroupId: group.id,\n        key: `trackgroup-${group.id}`,\n      }));\n      if (group.collapsed) continue;\n      for (const trackId of group.tracks) {\n        scrollingPanels.push(m(TrackPanel, {\n          key: `track-${group.id}-${trackId}`,\n          id: trackId,\n        }));\n      }\n    }\n    scrollingPanels.unshift(m(QueryTable));\n\n    return m(\n        '.page',\n        m('.pan-and-zoom-content',\n          m('.pinned-panel-container', m(PanelContainer, {\n              doesScroll: false,\n              panels: [\n                m(OverviewTimelinePanel, {key: 'overview'}),\n                m(TimeAxisPanel, {key: 'timeaxis'}),\n                ...globals.state.pinnedTracks.map(\n                    id => m(TrackPanel, {key: id, id})),\n              ],\n            })),\n          m('.scrolling-panel-container', m(PanelContainer, {\n              doesScroll: true,\n              panels: scrollingPanels,\n            }))));\n  }\n}\n\nexport const ViewerPage = createPage({\n  view() {\n    return m(TraceViewer);\n  }\n});\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {assertExists} from '../base/logging';\nimport {Actions} from '../common/actions';\nimport {TrackGroupState, TrackState} from '../common/state';\n\nimport {globals} from './globals';\nimport {drawGridLines} from './gridline_helper';\nimport {Panel, PanelSize} from './panel';\nimport {Track} from './track';\nimport {trackRegistry} from './track_registry';\n\n\ninterface Attrs {\n  trackGroupId: string;\n}\n\nexport class TrackGroupPanel extends Panel<Attrs> {\n  private readonly trackGroupId: string;\n  private shellWidth = 0;\n  private summaryTrack: Track;\n\n  constructor({attrs}: m.CVnode<Attrs>) {\n    super();\n    this.trackGroupId = attrs.trackGroupId;\n    const trackCreator = trackRegistry.get(this.summaryTrackState.kind);\n    this.summaryTrack = trackCreator.create(this.summaryTrackState);\n  }\n\n  get trackGroupState(): TrackGroupState {\n    return assertExists(globals.state.trackGroups[this.trackGroupId]);\n  }\n\n  get summaryTrackState(): TrackState {\n    return assertExists(\n        globals.state.tracks[this.trackGroupState.summaryTrack]);\n  }\n\n  view({attrs}: m.CVnode<Attrs>) {\n    const collapsed = this.trackGroupState.collapsed;\n    return m(\n        `.process-panel[collapsed=${collapsed}]`,\n        m('.shell',\n          m('h1', `${this.trackGroupState.name}`),\n          m('.fold-button',\n            {\n              onclick: () =>\n                  globals.dispatch(Actions.toggleTrackGroupCollapsed({\n                    trackGroupId: attrs.trackGroupId,\n                  })),\n            },\n            m('i.material-icons',\n              this.trackGroupState.collapsed ? 'expand_more' :\n                                               'expand_less'))));\n  }\n\n  oncreate(vnode: m.CVnodeDOM<Attrs>) {\n    this.onupdate(vnode);\n  }\n\n  onupdate({dom}: m.CVnodeDOM<Attrs>) {\n    const shell = assertExists(dom.querySelector('.shell'));\n    this.shellWidth = shell.getBoundingClientRect().width;\n  }\n\n  renderCanvas(ctx: CanvasRenderingContext2D, size: PanelSize) {\n    ctx.save();\n    ctx.translate(this.shellWidth, 0);\n    drawGridLines(\n        ctx,\n        globals.frontendLocalState.timeScale,\n        globals.frontendLocalState.visibleWindowTime,\n        size.height);\n\n    // Do not show summary view if there are more than 10 track groups.\n    // Too slow now.\n    // TODO(dproy): Fix this.\n    if (Object.keys(globals.state.trackGroups).length < 10) {\n      this.summaryTrack.renderCanvas(ctx);\n    }\n    ctx.restore();\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use size file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {timeToString} from '../common/time';\n\nimport {globals} from './globals';\nimport {DESIRED_PX_PER_STEP, getGridStepSize} from './gridline_helper';\nimport {Panel, PanelSize} from './panel';\nimport {TRACK_SHELL_WIDTH} from './track_panel';\n\nexport class TimeAxisPanel extends Panel {\n  view() {\n    return m('.time-axis-panel');\n  }\n\n\n  renderCanvas(ctx: CanvasRenderingContext2D, size: PanelSize) {\n    const timeScale = globals.frontendLocalState.timeScale;\n    ctx.font = '10px Google Sans';\n    ctx.fillStyle = '#999';\n\n    const range = globals.frontendLocalState.visibleWindowTime;\n    const desiredSteps = size.width / DESIRED_PX_PER_STEP;\n    const step = getGridStepSize(range.duration, desiredSteps);\n    const start = Math.round(range.start / step) * step;\n\n    for (let s = start; s < range.end; s += step) {\n      let xPos = TRACK_SHELL_WIDTH;\n      xPos += Math.floor(timeScale.timeToPx(s));\n      if (xPos < 0) continue;\n      if (xPos > size.width) break;\n      ctx.fillRect(xPos, 0, 1, size.height);\n      ctx.fillText(timeToString(s - range.start), xPos + 5, 10);\n    }\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {Actions, DeferredAction} from '../common/actions';\nimport {TrackState} from '../common/state';\n\nimport {globals} from './globals';\nimport {drawGridLines} from './gridline_helper';\nimport {Panel, PanelSize} from './panel';\nimport {Track} from './track';\nimport {trackRegistry} from './track_registry';\n\n// TODO(hjd): We should remove the constant where possible.\n// If any uses can't be removed we should read this constant from CSS.\nexport const TRACK_SHELL_WIDTH = 300;\n\nfunction isPinned(id: string) {\n  return globals.state.pinnedTracks.indexOf(id) !== -1;\n}\n\ninterface TrackShellAttrs {\n  trackState: TrackState;\n}\nclass TrackShell implements m.ClassComponent<TrackShellAttrs> {\n  view({attrs}: m.CVnode<TrackShellAttrs>) {\n    return m(\n        '.track-shell',\n        m('h1', attrs.trackState.name),\n        m(TrackButton, {\n          action: Actions.moveTrack(\n              {trackId: attrs.trackState.id, direction: 'up'}),\n          i: 'arrow_upward_alt',\n        }),\n        m(TrackButton, {\n          action: Actions.moveTrack(\n              {trackId: attrs.trackState.id, direction: 'down'}),\n          i: 'arrow_downward_alt',\n        }),\n        m(TrackButton, {\n          action: Actions.toggleTrackPinned({trackId: attrs.trackState.id}),\n          i: isPinned(attrs.trackState.id) ? 'star' : 'star_border',\n        }));\n  }\n}\n\ninterface TrackContentAttrs {\n  track: Track;\n}\nclass TrackContent implements m.ClassComponent<TrackContentAttrs> {\n  view({attrs}: m.CVnode<TrackContentAttrs>) {\n    return m('.track-content', {\n      onmousemove: (e: MouseEvent) => {\n        attrs.track.onMouseMove({x: e.layerX, y: e.layerY});\n        globals.rafScheduler.scheduleRedraw();\n      },\n      onmouseout: () => {\n        attrs.track.onMouseOut();\n        globals.rafScheduler.scheduleRedraw();\n      },\n    }, );\n  }\n}\n\ninterface TrackComponentAttrs {\n  trackState: TrackState;\n  track: Track;\n}\nclass TrackComponent implements m.ClassComponent<TrackComponentAttrs> {\n  view({attrs}: m.CVnode<TrackComponentAttrs>) {\n    return m('.track', [\n      m(TrackShell, {trackState: attrs.trackState}),\n      m(TrackContent, {track: attrs.track})\n    ]);\n  }\n}\n\ninterface TrackButtonAttrs {\n  action: DeferredAction;\n  i: string;\n}\nclass TrackButton implements m.ClassComponent<TrackButtonAttrs> {\n  view({attrs}: m.CVnode<TrackButtonAttrs>) {\n    return m(\n        'i.material-icons.track-button',\n        {\n          onclick: () => globals.dispatch(attrs.action),\n        },\n        attrs.i);\n  }\n}\n\ninterface TrackPanelAttrs {\n  id: string;\n}\n\nexport class TrackPanel extends Panel<TrackPanelAttrs> {\n  private track: Track;\n  private trackState: TrackState;\n  constructor(vnode: m.CVnode<TrackPanelAttrs>) {\n    super();\n    this.trackState = globals.state.tracks[vnode.attrs.id];\n    const trackCreator = trackRegistry.get(this.trackState.kind);\n    this.track = trackCreator.create(this.trackState);\n  }\n\n  view() {\n    return m(\n        '.track',\n        {\n          style: {\n            height: `${this.track.getHeight()}px`,\n          }\n        },\n        [\n          m(TrackShell, {trackState: this.trackState}),\n          m(TrackContent, {track: this.track})\n        ]);\n    return m(TrackComponent, {trackState: this.trackState, track: this.track});\n  }\n\n  renderCanvas(ctx: CanvasRenderingContext2D, size: PanelSize) {\n    ctx.save();\n    ctx.translate(TRACK_SHELL_WIDTH, 0);\n    drawGridLines(\n        ctx,\n        globals.frontendLocalState.timeScale,\n        globals.frontendLocalState.visibleWindowTime,\n        size.height);\n\n    this.track.renderCanvas(ctx);\n    ctx.restore();\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {TimeSpan} from '../common/time';\n\nimport {TimeScale} from './time_scale';\n\nexport const DESIRED_PX_PER_STEP = 80;\n\nexport function drawGridLines(\n    ctx: CanvasRenderingContext2D,\n    x: TimeScale,\n    timeSpan: TimeSpan,\n    height: number): void {\n  const width = x.deltaTimeToPx(timeSpan.duration);\n  const desiredSteps = width / DESIRED_PX_PER_STEP;\n  const step = getGridStepSize(timeSpan.duration, desiredSteps);\n  const start = Math.round(timeSpan.start / step) * step;\n\n  ctx.strokeStyle = '#999999';\n  ctx.lineWidth = 1;\n\n  for (let sec = start; sec < timeSpan.end; sec += step) {\n    const xPos = Math.floor(x.timeToPx(sec)) + 0.5;\n\n    if (xPos >= 0 && xPos <= width) {\n      ctx.beginPath();\n      ctx.moveTo(xPos, 0);\n      ctx.lineTo(xPos, height);\n      ctx.stroke();\n    }\n  }\n}\n\n/**\n * Returns the step size of a grid line in seconds.\n * The returned step size has two properties:\n * (1) It is 1, 2, or 5, multiplied by some integer power of 10.\n * (2) The number steps in |range| produced by |stepSize| is as close as\n *     possible to |desiredSteps|.\n */\nexport function getGridStepSize(range: number, desiredSteps: number): number {\n  // First, get the largest possible power of 10 that is smaller than the\n  // desired step size, and set it to the current step size.\n  // For example, if the range is 2345ms and the desired steps is 10, then the\n  // desired step size is 234.5 and the step size will be set to 100.\n  const desiredStepSize = range / desiredSteps;\n  const zeros = Math.floor(Math.log10(desiredStepSize));\n  const initialStepSize = Math.pow(10, zeros);\n\n  // This function first calculates how many steps within the range a certain\n  // stepSize will produce, and returns the difference between that and\n  // desiredSteps.\n  const distToDesired = (evaluatedStepSize: number) =>\n      Math.abs(range / evaluatedStepSize - desiredSteps);\n\n  // We know that |initialStepSize| is a power of 10, and\n  // initialStepSize <= desiredStepSize <= 10 * initialStepSize. There are four\n  // possible candidates for final step size: 1, 2, 5 or 10 * initialStepSize.\n  // We pick the candidate that minimizes distToDesired(stepSize).\n  const stepSizeMultipliers = [2, 5, 10];\n\n  let minimalDistance = distToDesired(initialStepSize);\n  let minimizingStepSize = initialStepSize;\n\n  for (const multiplier of stepSizeMultipliers) {\n    const newStepSize = multiplier * initialStepSize;\n    const newDistance = distToDesired(newStepSize);\n    if (newDistance < minimalDistance) {\n      minimalDistance = newDistance;\n      minimizingStepSize = newStepSize;\n    }\n  }\n  return minimizingStepSize;\n}","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {assertExists, assertTrue} from '../base/logging';\n\nimport {globals} from './globals';\nimport {isPanelVNode, Panel, PanelSize} from './panel';\nimport {\n  debugNow,\n  perfDebug,\n  perfDisplay,\n  RunningStatistics,\n  runningStatStr\n} from './perf';\n\n/**\n * If the panel container scrolls, the backing canvas height is\n * SCROLLING_CANVAS_OVERDRAW_FACTOR * parent container height.\n */\nconst SCROLLING_CANVAS_OVERDRAW_FACTOR = 2;\n\n// We need any here so we can accept vnodes with arbitrary attrs.\n// tslint:disable-next-line:no-any\nexport type AnyAttrsVnode = m.Vnode<any, {}>;\n\ninterface Attrs {\n  panels: AnyAttrsVnode[];\n  doesScroll: boolean;\n}\n\nexport class PanelContainer implements m.ClassComponent<Attrs> {\n  // These values are updated with proper values in oncreate.\n  private parentWidth = 0;\n  private parentHeight = 0;\n  private scrollTop = 0;\n  private panelHeights: number[] = [];\n  private totalPanelHeight = 0;\n  private canvasHeight = 0;\n\n  private panelPerfStats = new WeakMap<Panel, RunningStatistics>();\n  private perfStats = {\n    totalPanels: 0,\n    panelsOnCanvas: 0,\n    renderStats: new RunningStatistics(10),\n  };\n\n  // Attrs received in the most recent mithril redraw. We receive a new vnode\n  // with new attrs on every redraw, and we cache it here so that resize\n  // listeners and canvas redraw callbacks can access it.\n  private attrs: Attrs;\n\n  private ctx?: CanvasRenderingContext2D;\n\n  private onResize: () => void = () => {};\n  private parentOnScroll: () => void = () => {};\n  private canvasRedrawer: () => void;\n\n  get canvasOverdrawFactor() {\n    return this.attrs.doesScroll ? SCROLLING_CANVAS_OVERDRAW_FACTOR : 1;\n  }\n\n  constructor(vnode: m.CVnode<Attrs>) {\n    this.attrs = vnode.attrs;\n    this.canvasRedrawer = () => this.redrawCanvas();\n    globals.rafScheduler.addRedrawCallback(this.canvasRedrawer);\n    perfDisplay.addContainer(this);\n  }\n\n  oncreate(vnodeDom: m.CVnodeDOM<Attrs>) {\n    // Save the canvas context in the state.\n    const canvas =\n        vnodeDom.dom.querySelector('.main-canvas') as HTMLCanvasElement;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n      throw Error('Cannot create canvas context');\n    }\n    this.ctx = ctx;\n\n    const clientRect =\n        assertExists(vnodeDom.dom.parentElement).getBoundingClientRect();\n    this.parentWidth = clientRect.width;\n    this.parentHeight = clientRect.height;\n\n    this.readPanelHeightsFromDom(vnodeDom.dom);\n    (vnodeDom.dom as HTMLElement).style.height = `${this.totalPanelHeight}px`;\n\n    this.updateCanvasDimensions();\n    this.repositionCanvas();\n\n    // Save the resize handler in the state so we can remove it later.\n    // TODO: Encapsulate resize handling better.\n    this.onResize = () => {\n      this.readParentSizeFromDom(vnodeDom.dom);\n      this.updateCanvasDimensions();\n      this.repositionCanvas();\n      globals.rafScheduler.scheduleFullRedraw();\n    };\n\n    // Once ResizeObservers are out, we can stop accessing the window here.\n    window.addEventListener('resize', this.onResize);\n\n    // TODO(dproy): Handle change in doesScroll attribute.\n    if (this.attrs.doesScroll) {\n      this.parentOnScroll = () => {\n        this.scrollTop = assertExists(vnodeDom.dom.parentElement).scrollTop;\n        this.repositionCanvas();\n        globals.rafScheduler.scheduleRedraw();\n      };\n      vnodeDom.dom.parentElement!.addEventListener(\n          'scroll', this.parentOnScroll, {passive: true});\n    }\n  }\n\n  onremove({attrs, dom}: m.CVnodeDOM<Attrs>) {\n    window.removeEventListener('resize', this.onResize);\n    globals.rafScheduler.removeRedrawCallback(this.canvasRedrawer);\n    if (attrs.doesScroll) {\n      dom.parentElement!.removeEventListener('scroll', this.parentOnScroll);\n    }\n    perfDisplay.removeContainer(this);\n  }\n\n  view({attrs}: m.CVnode<Attrs>) {\n    this.attrs = attrs;\n    const renderPanel = (panel: m.Vnode) => perfDebug() ?\n        m('.panel', panel, m('.debug-panel-border')) :\n        m('.panel', panel);\n\n    return m(\n        '.scroll-limiter',\n        m('canvas.main-canvas'),\n        attrs.panels.map(renderPanel));\n  }\n\n  onupdate(vnodeDom: m.CVnodeDOM<Attrs>) {\n    const totalPanelHeightChanged = this.readPanelHeightsFromDom(vnodeDom.dom);\n    const parentSizeChanged = this.readParentSizeFromDom(vnodeDom.dom);\n\n    if (totalPanelHeightChanged) {\n      (vnodeDom.dom as HTMLElement).style.height = `${this.totalPanelHeight}px`;\n    }\n\n    const canvasSizeShouldChange =\n        this.attrs.doesScroll ? parentSizeChanged : totalPanelHeightChanged;\n    if (canvasSizeShouldChange) {\n      this.updateCanvasDimensions();\n      this.repositionCanvas();\n    }\n  }\n\n  private updateCanvasDimensions() {\n    this.canvasHeight = this.attrs.doesScroll ?\n        this.parentHeight * this.canvasOverdrawFactor :\n        this.totalPanelHeight;\n    const ctx = assertExists(this.ctx);\n    const canvas = assertExists(ctx.canvas);\n    canvas.style.height = `${this.canvasHeight}px`;\n    const dpr = window.devicePixelRatio;\n    ctx.canvas.width = this.parentWidth * dpr;\n    ctx.canvas.height = this.canvasHeight * dpr;\n    ctx.scale(dpr, dpr);\n  }\n\n  private repositionCanvas() {\n    const canvas = assertExists(assertExists(this.ctx).canvas);\n    const canvasYStart = this.scrollTop - this.getCanvasOverdrawHeightPerSide();\n    canvas.style.transform = `translateY(${canvasYStart}px)`;\n  }\n\n  /**\n   * Reads dimensions of parent node. Returns true if read dimensions are\n   * different from what was cached in the state.\n   */\n  private readParentSizeFromDom(dom: Element): boolean {\n    const oldWidth = this.parentWidth;\n    const oldHeight = this.parentHeight;\n    const clientRect = assertExists(dom.parentElement).getBoundingClientRect();\n    this.parentWidth = clientRect.width;\n    this.parentHeight = clientRect.height;\n    return this.parentHeight !== oldHeight || this.parentWidth !== oldWidth;\n  }\n\n  /**\n   * Reads dimensions of panels. Returns true if total panel height is different\n   * from what was cached in state.\n   */\n  private readPanelHeightsFromDom(dom: Element): boolean {\n    const prevHeight = this.totalPanelHeight;\n    this.panelHeights = [];\n    this.totalPanelHeight = 0;\n\n    const panels = dom.querySelectorAll('.panel');\n    assertTrue(panels.length === this.attrs.panels.length);\n    for (let i = 0; i < panels.length; i++) {\n      const height = panels[i].getBoundingClientRect().height;\n      this.panelHeights[i] = height;\n      this.totalPanelHeight += height;\n    }\n\n    return this.totalPanelHeight !== prevHeight;\n  }\n\n  private overlapsCanvas(yStart: number, yEnd: number) {\n    return yEnd > 0 && yStart < this.canvasHeight;\n  }\n\n  private redrawCanvas() {\n    const redrawStart = debugNow();\n    if (!this.ctx) return;\n    this.ctx.clearRect(0, 0, this.parentWidth, this.canvasHeight);\n    const canvasYStart = this.scrollTop - this.getCanvasOverdrawHeightPerSide();\n\n    let panelYStart = 0;\n    const panels = assertExists(this.attrs).panels;\n    assertTrue(panels.length === this.panelHeights.length);\n    let totalOnCanvas = 0;\n    for (let i = 0; i < panels.length; i++) {\n      const panel = panels[i];\n      const panelHeight = this.panelHeights[i];\n      const yStartOnCanvas = panelYStart - canvasYStart;\n\n      if (!this.overlapsCanvas(yStartOnCanvas, yStartOnCanvas + panelHeight)) {\n        panelYStart += panelHeight;\n        continue;\n      }\n\n      totalOnCanvas++;\n\n      if (!isPanelVNode(panel)) {\n        throw Error('Vnode passed to panel container is not a panel');\n      }\n\n      this.ctx.save();\n      this.ctx.translate(0, yStartOnCanvas);\n      const clipRect = new Path2D();\n      const size = {width: this.parentWidth, height: panelHeight};\n      clipRect.rect(0, 0, size.width, size.height);\n      this.ctx.clip(clipRect);\n      const beforeRender = debugNow();\n      panel.state.renderCanvas(this.ctx, size, panel);\n      this.updatePanelStats(\n          i, panel.state, debugNow() - beforeRender, this.ctx, size);\n      this.ctx.restore();\n      panelYStart += panelHeight;\n    }\n    const redrawDur = debugNow() - redrawStart;\n    this.updatePerfStats(redrawDur, panels.length, totalOnCanvas);\n  }\n\n  private updatePanelStats(\n      panelIndex: number, panel: Panel, renderTime: number,\n      ctx: CanvasRenderingContext2D, size: PanelSize) {\n    if (!perfDebug()) return;\n    let renderStats = this.panelPerfStats.get(panel);\n    if (renderStats === undefined) {\n      renderStats = new RunningStatistics();\n      this.panelPerfStats.set(panel, renderStats);\n    }\n    renderStats.addValue(renderTime);\n\n    const statW = 300;\n    ctx.fillStyle = 'hsl(97, 100%, 96%)';\n    ctx.fillRect(size.width - statW, size.height - 20, statW, 20);\n    ctx.fillStyle = 'hsla(122, 77%, 22%)';\n    const statStr = `Panel ${panelIndex + 1} | ` + runningStatStr(renderStats);\n    ctx.fillText(statStr, size.width - statW, size.height - 10);\n  }\n\n  private updatePerfStats(\n      renderTime: number, totalPanels: number, panelsOnCanvas: number) {\n    if (!perfDebug()) return;\n    this.perfStats.renderStats.addValue(renderTime);\n    this.perfStats.totalPanels = totalPanels;\n    this.perfStats.panelsOnCanvas = panelsOnCanvas;\n  }\n\n  renderPerfStats(index: number) {\n    assertTrue(perfDebug());\n    return [m(\n        'section',\n        m('div', `Panel Container ${index + 1}`),\n        m('div',\n          `${this.perfStats.totalPanels} panels, ` +\n              `${this.perfStats.panelsOnCanvas} on canvas.`),\n        m('div', runningStatStr(this.perfStats.renderStats)), )];\n  }\n\n  private getCanvasOverdrawHeightPerSide() {\n    const overdrawHeight = (this.canvasOverdrawFactor - 1) * this.parentHeight;\n    return overdrawHeight / 2;\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Animation} from './animation';\nimport Timer = NodeJS.Timer;\nimport {DragGestureHandler} from './drag_gesture_handler';\nimport {globals} from './globals';\n\nconst ZOOM_RATIO_PER_FRAME = 0.008;\nconst KEYBOARD_PAN_PX_PER_FRAME = 8;\nconst HORIZONTAL_WHEEL_PAN_SPEED = 1;\nconst WHEEL_ZOOM_SPEED = -0.02;\n\n// Usually, animations are cancelled on keyup. However, in case the keyup\n// event is not captured by the document, e.g. if it loses focus first, then\n// we want to stop the animation as soon as possible.\nconst ANIMATION_AUTO_END_AFTER_INITIAL_KEYPRESS_MS = 700;\n// This value must be larger than the maximum delta between keydown repeat\n// events. Largest observed value so far: 86ms.\nconst ANIMATION_AUTO_END_AFTER_KEYPRESS_MS = 100;\n\n// This defines the step size for an individual pan or zoom keyboard tap.\nconst TAP_ANIMATION_TIME = 200;\n\nenum Pan {\n  None = 0,\n  Left = -1,\n  Right = 1\n}\nfunction keyToPan(e: KeyboardEvent): Pan {\n  if (['a'].includes(e.key)) return Pan.Left;\n  if (['d'].includes(e.key)) return Pan.Right;\n  return Pan.None;\n}\n\nenum Zoom {\n  None = 0,\n  In = 1,\n  Out = -1\n}\nfunction keyToZoom(e: KeyboardEvent): Zoom {\n  if (['w'].includes(e.key)) return Zoom.In;\n  if (['s'].includes(e.key)) return Zoom.Out;\n  return Zoom.None;\n}\n\n/**\n * Enables horizontal pan and zoom with mouse-based drag and WASD navigation.\n */\nexport class PanAndZoomHandler {\n  private mousePositionX: number|null = null;\n  private boundOnMouseMove = this.onMouseMove.bind(this);\n  private boundOnWheel = this.onWheel.bind(this);\n  private boundOnKeyDown = this.onKeyDown.bind(this);\n  private boundOnKeyUp = this.onKeyUp.bind(this);\n  private panning: Pan = Pan.None;\n  private zooming: Zoom = Zoom.None;\n  private cancelPanTimeout?: Timer;\n  private cancelZoomTimeout?: Timer;\n  private panAnimation = new Animation(this.onPanAnimationStep.bind(this));\n  private zoomAnimation = new Animation(this.onZoomAnimationStep.bind(this));\n\n  private element: HTMLElement;\n  private contentOffsetX: number;\n  private onPanned: (movedPx: number) => void;\n  private onZoomed: (zoomPositionPx: number, zoomRatio: number) => void;\n\n  constructor({element, contentOffsetX, onPanned, onZoomed}: {\n    element: HTMLElement,\n    contentOffsetX: number,\n    onPanned: (movedPx: number) => void,\n    onZoomed: (zoomPositionPx: number, zoomRatio: number) => void,\n  }) {\n    this.element = element;\n    this.contentOffsetX = contentOffsetX;\n    this.onPanned = onPanned;\n    this.onZoomed = onZoomed;\n\n    document.body.addEventListener('keydown', this.boundOnKeyDown);\n    document.body.addEventListener('keyup', this.boundOnKeyUp);\n    this.element.addEventListener('mousemove', this.boundOnMouseMove);\n    this.element.addEventListener('wheel', this.boundOnWheel, {passive: true});\n\n    let lastX = -1;\n    new DragGestureHandler(this.element, x => {\n      this.onPanned(lastX - x);\n      lastX = x;\n    }, x => lastX = x);\n  }\n\n  shutdown() {\n    document.body.removeEventListener('keydown', this.boundOnKeyDown);\n    document.body.removeEventListener('keyup', this.boundOnKeyUp);\n    this.element.removeEventListener('mousemove', this.boundOnMouseMove);\n    this.element.removeEventListener('wheel', this.boundOnWheel);\n  }\n\n  private onPanAnimationStep(msSinceStartOfAnimation: number) {\n    if (this.panning === Pan.None) return;\n    let offset = this.panning * KEYBOARD_PAN_PX_PER_FRAME;\n    offset *= Math.max(msSinceStartOfAnimation / 40, 1);\n    this.onPanned(offset);\n  }\n\n  private onZoomAnimationStep(msSinceStartOfAnimation: number) {\n    if (this.zooming === Zoom.None || this.mousePositionX === null) return;\n    let zoomRatio = this.zooming * ZOOM_RATIO_PER_FRAME;\n    zoomRatio *= Math.max(msSinceStartOfAnimation / 40, 1);\n    this.onZoomed(this.mousePositionX, zoomRatio);\n  }\n\n  private onMouseMove(e: MouseEvent) {\n    this.mousePositionX = e.clientX - this.contentOffsetX;\n  }\n\n  private onWheel(e: WheelEvent) {\n    if (Math.abs(e.deltaX) > Math.abs(e.deltaY)) {\n      this.onPanned(e.deltaX * HORIZONTAL_WHEEL_PAN_SPEED);\n      globals.rafScheduler.scheduleRedraw();\n    } else if (e.ctrlKey && this.mousePositionX) {\n      const sign = e.deltaY < 0 ? -1 : 1;\n      const deltaY = sign * Math.log2(1 + Math.abs(e.deltaY));\n      this.onZoomed(this.mousePositionX, deltaY * WHEEL_ZOOM_SPEED);\n      globals.rafScheduler.scheduleRedraw();\n    }\n  }\n\n  private onKeyDown(e: KeyboardEvent) {\n    if (keyToPan(e) !== Pan.None) {\n      this.panning = keyToPan(e);\n      const animationTime = e.repeat ?\n          ANIMATION_AUTO_END_AFTER_KEYPRESS_MS :\n          ANIMATION_AUTO_END_AFTER_INITIAL_KEYPRESS_MS;\n      this.panAnimation.start(animationTime);\n      clearTimeout(this.cancelPanTimeout!);\n    }\n\n    if (keyToZoom(e) !== Zoom.None) {\n      this.zooming = keyToZoom(e);\n      const animationTime = e.repeat ?\n          ANIMATION_AUTO_END_AFTER_KEYPRESS_MS :\n          ANIMATION_AUTO_END_AFTER_INITIAL_KEYPRESS_MS;\n      this.zoomAnimation.start(animationTime);\n      clearTimeout(this.cancelZoomTimeout!);\n    }\n  }\n\n  private onKeyUp(e: KeyboardEvent) {\n    if (keyToPan(e) === this.panning) {\n      const minEndTime = this.panAnimation.startTimeMs + TAP_ANIMATION_TIME;\n      const t = minEndTime - performance.now();\n      this.cancelPanTimeout = setTimeout(() => this.panAnimation.stop(), t);\n    }\n    if (keyToZoom(e) === this.zooming) {\n      const minEndTime = this.zoomAnimation.startTimeMs + TAP_ANIMATION_TIME;\n      const t = minEndTime - performance.now();\n      this.cancelZoomTimeout = setTimeout(() => this.zoomAnimation.stop(), t);\n    }\n  }\n}\n","import {globals} from './globals';\n\n// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport class Animation {\n  private startMs = 0;\n  private endMs = 0;\n  private boundOnAnimationFrame = this.onAnimationFrame.bind(this);\n\n  constructor(private onAnimationStep: (timeSinceStartMs: number) => void) {}\n\n  start(durationMs: number) {\n    const nowMs = performance.now();\n\n    // If the animation is already happening, just update its end time.\n    if (nowMs <= this.endMs) {\n      this.endMs = nowMs + durationMs;\n      return;\n    }\n    this.startMs = nowMs;\n    this.endMs = nowMs + durationMs;\n    globals.rafScheduler.start(this.boundOnAnimationFrame);\n  }\n\n  stop() {\n    this.endMs = 0;\n    globals.rafScheduler.stop(this.boundOnAnimationFrame);\n  }\n\n  get startTimeMs(): number {\n    return this.startMs;\n  }\n\n  private onAnimationFrame(nowMs: number) {\n    if (nowMs >= this.endMs) {\n      globals.rafScheduler.stop(this.boundOnAnimationFrame);\n      return;\n    }\n    this.onAnimationStep(Math.max(Math.round(nowMs - this.startMs), 0));\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {assertExists} from '../base/logging';\nimport {TimeSpan, timeToString} from '../common/time';\n\nimport {DragGestureHandler} from './drag_gesture_handler';\nimport {globals} from './globals';\nimport {Panel, PanelSize} from './panel';\nimport {TimeScale} from './time_scale';\n\nexport class OverviewTimelinePanel extends Panel {\n  private width = 0;\n  private dragStartPx = 0;\n  private gesture?: DragGestureHandler;\n  private timeScale?: TimeScale;\n  private totTime = new TimeSpan(0, 0);\n\n  // Must explicitly type now; arguments types are no longer auto-inferred.\n  // https://github.com/Microsoft/TypeScript/issues/1373\n  onupdate({dom}: m.CVnodeDOM) {\n    this.width = dom.getBoundingClientRect().width;\n    this.totTime = new TimeSpan(\n        globals.state.traceTime.startSec, globals.state.traceTime.endSec);\n    this.timeScale = new TimeScale(this.totTime, [0, assertExists(this.width)]);\n\n    if (this.gesture === undefined) {\n      this.gesture = new DragGestureHandler(\n          dom as HTMLElement,\n          this.onDrag.bind(this),\n          this.onDragStart.bind(this),\n          this.onDragEnd.bind(this));\n    }\n  }\n\n  oncreate(vnode: m.CVnodeDOM) {\n    this.onupdate(vnode);\n  }\n\n  view() {\n    return m('.overview-timeline');\n  }\n\n  renderCanvas(ctx: CanvasRenderingContext2D, size: PanelSize) {\n    if (this.width === undefined) return;\n    if (this.timeScale === undefined) return;\n    const headerHeight = 25;\n    const tracksHeight = size.height - headerHeight;\n\n    // Draw time labels on the top header.\n    ctx.font = '10px Google Sans';\n    ctx.fillStyle = '#999';\n    for (let i = 0; i < 100; i++) {\n      const xPos = i * this.width / 100;\n      const t = this.timeScale.pxToTime(xPos);\n      if (xPos < 0) continue;\n      if (xPos > this.width) break;\n      if (i % 10 === 0) {\n        ctx.fillRect(xPos, 0, 1, headerHeight - 5);\n        ctx.fillText(timeToString(t - this.totTime.start), xPos + 5, 18);\n      } else {\n        ctx.fillRect(xPos, 0, 1, 5);\n      }\n    }\n\n    // Draw mini-tracks with quanitzed density for each process.\n    if (globals.overviewStore.size > 0) {\n      const numTracks = globals.overviewStore.size;\n      let hue = 128;\n      let y = 0;\n      const trackHeight = (tracksHeight - 2) / numTracks;\n      for (const key of globals.overviewStore.keys()) {\n        const loads = globals.overviewStore.get(key)!;\n        for (let i = 0; i < loads.length; i++) {\n          const xStart = this.timeScale.timeToPx(loads[i].startSec);\n          const xEnd = this.timeScale.timeToPx(loads[i].endSec);\n          const yOff = headerHeight + y * trackHeight;\n          const lightness = Math.ceil((1 - loads[i].load * 0.7) * 100);\n          ctx.fillStyle = `hsl(${hue}, 50%, ${lightness}%)`;\n          ctx.fillRect(xStart, yOff, xEnd - xStart, trackHeight);\n        }\n        y++;\n        hue = (hue + 32) % 256;\n      }\n    }\n\n    // Draw bottom border.\n    ctx.fillStyle = 'hsl(219, 40%, 50%)';\n    ctx.fillRect(0, size.height - 2, this.width, 2);\n\n    // Draw semi-opaque rects that occlude the non-visible time range.\n    const vizTime = globals.frontendLocalState.visibleWindowTime;\n    const vizStartPx = this.timeScale.timeToPx(vizTime.start);\n    const vizEndPx = this.timeScale.timeToPx(vizTime.end);\n\n    ctx.fillStyle = 'rgba(200, 200, 200, 0.8)';\n    ctx.fillRect(0, headerHeight, vizStartPx, tracksHeight);\n    ctx.fillRect(vizEndPx, headerHeight, this.width - vizEndPx, tracksHeight);\n\n    // Draw brushes.\n    const handleWidth = 3;\n    const handleHeight = 25;\n    const y = headerHeight + (tracksHeight - handleHeight) / 2;\n    ctx.fillStyle = '#333';\n    ctx.fillRect(vizStartPx, headerHeight, 1, tracksHeight);\n    ctx.fillRect(vizEndPx, headerHeight, 1, tracksHeight);\n    ctx.fillRect(vizStartPx - handleWidth, y, handleWidth, handleHeight);\n    ctx.fillRect(vizEndPx + 1, y, handleWidth, handleHeight);\n  }\n\n  onDrag(x: number) {\n    // Set visible time limits from selection.\n    if (this.timeScale === undefined) return;\n    let tStart = this.timeScale.pxToTime(this.dragStartPx);\n    let tEnd = this.timeScale.pxToTime(x);\n    if (tStart > tEnd) [tStart, tEnd] = [tEnd, tStart];\n    const vizTime = new TimeSpan(tStart, tEnd);\n    globals.frontendLocalState.updateVisibleTime(vizTime);\n    globals.rafScheduler.scheduleRedraw();\n  }\n\n  onDragStart(x: number) {\n    this.dragStartPx = x;\n  }\n\n  onDragEnd() {\n    this.dragStartPx = 0;\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport class DragGestureHandler {\n  private readonly boundOnMouseDown = this.onMouseDown.bind(this);\n  private readonly boundOnMouseMove = this.onMouseMove.bind(this);\n  private readonly boundOnMouseUp = this.onMouseUp.bind(this);\n  private clientRect?: DOMRect;\n\n  constructor(\n      private element: HTMLElement,\n      private onDrag: (x: number, y: number) => void,\n      private onDragStarted: (x: number, y: number) => void = () => {},\n      private onDragFinished = () => {}) {\n    element.addEventListener('mousedown', this.boundOnMouseDown);\n  }\n\n  private onMouseDown(e: MouseEvent) {\n    document.body.addEventListener('mousemove', this.boundOnMouseMove);\n    document.body.addEventListener('mouseup', this.boundOnMouseUp);\n    this.clientRect = this.element.getBoundingClientRect() as DOMRect;\n    this.onDragStarted(\n        e.clientX - this.clientRect.left, e.clientY - this.clientRect.top);\n\n    // Prevent interactions with other DragGestureHandlers and event listeners\n    e.stopPropagation();\n  }\n\n  private onMouseMove(e: MouseEvent) {\n    this.onDrag(\n        e.clientX - this.clientRect!.left, e.clientY - this.clientRect!.top);\n    e.stopPropagation();\n  }\n\n  private onMouseUp(e: MouseEvent) {\n    document.body.removeEventListener('mousemove', this.boundOnMouseMove);\n    document.body.removeEventListener('mouseup', this.boundOnMouseUp);\n    this.onDragFinished();\n    e.stopPropagation();\n  }\n}","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\nimport {Panel} from './panel';\n\ninterface Attrs {\n  title: string;\n}\n\nexport class HeaderPanel extends Panel<Attrs> {\n  renderCanvas() {}\n  view({attrs}: m.CVnode<Attrs>) {\n    return m('header', attrs.title);\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {Panel} from './panel';\n\nexport class FlameGraphPanel extends Panel {\n  renderCanvas() {}\n  view() {\n    return [\n      m('header', 'Flame Graph'),\n      m('embed.flame-graph-panel',\n        {type: 'image/svg+xml', src: 'assets/flamegraph.svg'})\n    ];\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nexport interface PanelSize {\n  width: number;\n  height: number;\n}\n\nexport abstract class Panel<Attrs = {}> implements m.ClassComponent<Attrs> {\n  abstract renderCanvas(\n      ctx: CanvasRenderingContext2D, size: PanelSize,\n      vnode: PanelVNode<Attrs>): void;\n  abstract view(vnode: m.CVnode<Attrs>): m.Children|null|void;\n}\n\n\nexport type PanelVNode<Attrs = {}> = m.Vnode<Attrs, Panel<Attrs>>;\n\nexport function isPanelVNode(vnode: m.Vnode): vnode is PanelVNode {\n  const tag = vnode.tag as {};\n  return (\n      typeof tag === 'function' && 'prototype' in tag &&\n      tag.prototype instanceof Panel);\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {Actions, DeferredAction} from '../common/actions';\n\ninterface RouteMap {\n  [route: string]: m.Component;\n}\n\nexport const ROUTE_PREFIX = '#!';\n\nexport class Router {\n  constructor(\n      private defaultRoute: string, private routes: RouteMap,\n      private dispatch: (a: DeferredAction) => void) {\n    if (!(defaultRoute in routes)) {\n      throw Error('routes must define a component for defaultRoute.');\n    }\n\n    window.onhashchange = () => this.navigateToCurrentHash();\n  }\n\n  /**\n   * Parses and returns the current route string from |window.location.hash|.\n   * May return routes that are not defined in |this.routes|.\n   */\n  getRouteFromHash(): string {\n    const prefixLength = ROUTE_PREFIX.length;\n    const hash = window.location.hash;\n\n    // Do not try to parse route if prefix doesn't match.\n    if (hash.substring(0, prefixLength) !== ROUTE_PREFIX) return '';\n\n    return hash.split('?')[0].substring(prefixLength);\n  }\n\n  /**\n   * Sets |route| on |window.location.hash|. If |route| if not defined in\n   * |this.routes|, dispatches a navigation to |this.defaultRoute|.\n   */\n  setRouteOnHash(route: string) {\n    history.pushState(undefined, undefined, ROUTE_PREFIX + route);\n\n    if (!(route in this.routes)) {\n      console.info(\n          `Route ${route} not known redirecting to ${this.defaultRoute}.`);\n      this.dispatch(Actions.navigate({route: this.defaultRoute}));\n    }\n  }\n\n  /**\n   * Dispatches navigation action to |this.getRouteFromHash()| if that is\n   * defined in |this.routes|, otherwise to |this.defaultRoute|.\n   */\n  navigateToCurrentHash() {\n    const hashRoute = this.getRouteFromHash();\n    const newRoute = hashRoute in this.routes ? hashRoute : this.defaultRoute;\n    this.dispatch(Actions.navigate({route: newRoute}));\n    // TODO(dproy): Handle case when new route has a permalink.\n  }\n\n  /**\n   * Returns the component for given |route|. If |route| is not defined, returns\n   * component of |this.defaultRoute|.\n   */\n  resolve(route: string|null): m.Component {\n    if (!route || !(route in this.routes)) {\n      return this.routes[this.defaultRoute];\n    }\n    return this.routes[route];\n  }\n\n  param(key: string) {\n    const hash = window.location.hash;\n    const paramStart = hash.indexOf('?');\n    if (paramStart === -1) return undefined;\n    return m.parseQueryString(hash.substring(paramStart))[key];\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {Actions} from '../common/actions';\n\nimport {copyToClipboard} from './clipboard';\nimport {globals} from './globals';\nimport {createPage} from './pages';\n\nconst CONFIG_PROTO_URL =\n    `https://android.googlesource.com/platform/external/perfetto/+/master/protos/perfetto/config/perfetto_config.proto`;\n\nconst FTRACE_EVENTS = [\n  'print',\n  'sched_switch',\n  'cpufreq_interactive_already',\n  'cpufreq_interactive_boost',\n  'cpufreq_interactive_notyet',\n  'cpufreq_interactive_setspeed',\n  'cpufreq_interactive_target',\n  'cpufreq_interactive_unboost',\n  'cpu_frequency',\n  'cpu_frequency_limits',\n  'cpu_idle',\n  'clock_enable',\n  'clock_disable',\n  'clock_set_rate',\n  'sched_wakeup',\n  'sched_blocked_reason',\n  'sched_cpu_hotplug',\n  'sched_waking',\n  'ipi_entry',\n  'ipi_exit',\n  'ipi_raise',\n  'softirq_entry',\n  'softirq_exit',\n  'softirq_raise',\n  'i2c_read',\n  'i2c_write',\n  'i2c_result',\n  'i2c_reply',\n  'smbus_read',\n  'smbus_write',\n  'smbus_result',\n  'smbus_reply',\n  'lowmemory_kill',\n  'irq_handler_entry',\n  'irq_handler_exit',\n  'sync_pt',\n  'sync_timeline',\n  'sync_wait',\n  'ext4_da_write_begin',\n  'ext4_da_write_end',\n  'ext4_sync_file_enter',\n  'ext4_sync_file_exit',\n  'block_rq_issue',\n  'mm_vmscan_direct_reclaim_begin',\n  'mm_vmscan_direct_reclaim_end',\n  'mm_vmscan_kswapd_wake',\n  'mm_vmscan_kswapd_sleep',\n  'binder_transaction',\n  'binder_transaction_received',\n  'binder_set_priority',\n  'binder_lock',\n  'binder_locked',\n  'binder_unlock',\n  'workqueue_activate_work',\n  'workqueue_execute_end',\n  'workqueue_execute_start',\n  'workqueue_queue_work',\n  'regulator_disable',\n  'regulator_disable_complete',\n  'regulator_enable',\n  'regulator_enable_complete',\n  'regulator_enable_delay',\n  'regulator_set_voltage',\n  'regulator_set_voltage_complete',\n  'cgroup_attach_task',\n  'cgroup_mkdir',\n  'cgroup_remount',\n  'cgroup_rmdir',\n  'cgroup_transfer_tasks',\n  'cgroup_destroy_root',\n  'cgroup_release',\n  'cgroup_rename',\n  'cgroup_setup_root',\n  'mdp_cmd_kickoff',\n  'mdp_commit',\n  'mdp_perf_set_ot',\n  'mdp_sspp_change',\n  'tracing_mark_write',\n  'mdp_cmd_pingpong_done',\n  'mdp_compare_bw',\n  'mdp_perf_set_panic_luts',\n  'mdp_sspp_set',\n  'mdp_cmd_readptr_done',\n  'mdp_misr_crc',\n  'mdp_perf_set_qos_luts',\n  'mdp_trace_counter',\n  'mdp_cmd_release_bw',\n  'mdp_mixer_update',\n  'mdp_perf_set_wm_levels',\n  'mdp_video_underrun_done',\n  'mdp_cmd_wait_pingpong',\n  'mdp_perf_prefill_calc',\n  'mdp_perf_update_bus',\n  'rotator_bw_ao_as_context',\n  'mm_filemap_add_to_page_cache',\n  'mm_filemap_delete_from_page_cache',\n  'mm_compaction_begin',\n  'mm_compaction_defer_compaction',\n  'mm_compaction_deferred',\n  'mm_compaction_defer_reset',\n  'mm_compaction_end',\n  'mm_compaction_finished',\n  'mm_compaction_isolate_freepages',\n  'mm_compaction_isolate_migratepages',\n  'mm_compaction_kcompactd_sleep',\n  'mm_compaction_kcompactd_wake',\n  'mm_compaction_migratepages',\n  'mm_compaction_suitable',\n  'mm_compaction_try_to_compact_pages',\n  'mm_compaction_wakeup_kcompactd',\n  'suspend_resume',\n  'sched_wakeup_new',\n  'block_bio_backmerge',\n  'block_bio_bounce',\n  'block_bio_complete',\n  'block_bio_frontmerge',\n  'block_bio_queue',\n  'block_bio_remap',\n  'block_dirty_buffer',\n  'block_getrq',\n  'block_plug',\n  'block_rq_abort',\n  'block_rq_complete',\n  'block_rq_insert',\n  '  removed',\n  'block_rq_remap',\n  'block_rq_requeue',\n  'block_sleeprq',\n  'block_split',\n  'block_touch_buffer',\n  'block_unplug',\n  'ext4_alloc_da_blocks',\n  'ext4_allocate_blocks',\n  'ext4_allocate_inode',\n  'ext4_begin_ordered_truncate',\n  'ext4_collapse_range',\n  'ext4_da_release_space',\n  'ext4_da_reserve_space',\n  'ext4_da_update_reserve_space',\n  'ext4_da_write_pages',\n  'ext4_da_write_pages_extent',\n  'ext4_direct_IO_enter',\n  'ext4_direct_IO_exit',\n  'ext4_discard_blocks',\n  'ext4_discard_preallocations',\n  'ext4_drop_inode',\n  'ext4_es_cache_extent',\n  'ext4_es_find_delayed_extent_range_enter',\n  'ext4_es_find_delayed_extent_range_exit',\n  'ext4_es_insert_extent',\n  'ext4_es_lookup_extent_enter',\n  'ext4_es_lookup_extent_exit',\n  'ext4_es_remove_extent',\n  'ext4_es_shrink',\n  'ext4_es_shrink_count',\n  'ext4_es_shrink_scan_enter',\n  'ext4_es_shrink_scan_exit',\n  'ext4_evict_inode',\n  'ext4_ext_convert_to_initialized_enter',\n  'ext4_ext_convert_to_initialized_fastpath',\n  'ext4_ext_handle_unwritten_extents',\n  'ext4_ext_in_cache',\n  'ext4_ext_load_extent',\n  'ext4_ext_map_blocks_enter',\n  'ext4_ext_map_blocks_exit',\n  'ext4_ext_put_in_cache',\n  'ext4_ext_remove_space',\n  'ext4_ext_remove_space_done',\n  'ext4_ext_rm_idx',\n  'ext4_ext_rm_leaf',\n  'ext4_ext_show_extent',\n  'ext4_fallocate_enter',\n  'ext4_fallocate_exit',\n  'ext4_find_delalloc_range',\n  'ext4_forget',\n  'ext4_free_blocks',\n  'ext4_free_inode',\n  'ext4_get_implied_cluster_alloc_exit',\n  'ext4_get_reserved_cluster_alloc',\n  'ext4_ind_map_blocks_enter',\n  'ext4_ind_map_blocks_exit',\n  'ext4_insert_range',\n  'ext4_invalidatepage',\n  'ext4_journal_start',\n  'ext4_journal_start_reserved',\n  'ext4_journalled_invalidatepage',\n  'ext4_journalled_write_end',\n  'ext4_load_inode',\n  'ext4_load_inode_bitmap',\n  'ext4_mark_inode_dirty',\n  'ext4_mb_bitmap_load',\n  'ext4_mb_buddy_bitmap_load',\n  'ext4_mb_discard_preallocations',\n  'ext4_mb_new_group_pa',\n  'ext4_mb_new_inode_pa',\n  'ext4_mb_release_group_pa',\n  'ext4_mb_release_inode_pa',\n  'ext4_mballoc_alloc',\n  'ext4_mballoc_discard',\n  'ext4_mballoc_free',\n  'ext4_mballoc_prealloc',\n  'ext4_other_inode_update_time',\n  'ext4_punch_hole',\n  'ext4_read_block_bitmap_load',\n  'ext4_readpage',\n  'ext4_releasepage',\n  'ext4_remove_blocks',\n  'ext4_request_blocks',\n  'ext4_request_inode',\n  'ext4_sync_fs',\n  'ext4_trim_all_free',\n  'ext4_trim_extent',\n  'ext4_truncate_enter',\n  'ext4_truncate_exit',\n  'ext4_unlink_enter',\n  'ext4_unlink_exit',\n  'ext4_write_begin',\n  'ext4_write_end',\n  'ext4_writepage',\n  'ext4_writepages',\n  'ext4_writepages_result',\n  'ext4_zero_range',\n  'task_newtask',\n  'task_rename',\n  'sched_process_exec',\n  'sched_process_exit',\n  'sched_process_fork',\n  'sched_process_free',\n  'sched_process_hang',\n  'sched_process_wait',\n  'f2fs_do_submit_bio',\n  'f2fs_evict_inode',\n  'f2fs_fallocate',\n  'f2fs_get_data_block',\n  'f2fs_get_victim',\n  'f2fs_iget',\n  'f2fs_iget_exit',\n  'f2fs_new_inode',\n  'f2fs_readpage',\n  'f2fs_reserve_new_block',\n  'f2fs_set_page_dirty',\n  'f2fs_submit_write_page',\n  'f2fs_sync_file_enter',\n  'f2fs_sync_file_exit',\n  'f2fs_sync_fs',\n  'f2fs_truncate',\n  'f2fs_truncate_blocks_enter',\n  'f2fs_truncate_blocks_exit',\n  'f2fs_truncate_data_blocks_range',\n  'f2fs_truncate_inode_blocks_enter',\n  'f2fs_truncate_inode_blocks_exit',\n  'f2fs_truncate_node',\n  'f2fs_truncate_nodes_enter',\n  'f2fs_truncate_nodes_exit',\n  'f2fs_truncate_partial_nodes',\n  'f2fs_unlink_enter',\n  'f2fs_unlink_exit',\n  'f2fs_vm_page_mkwrite',\n  'f2fs_write_begin',\n  'f2fs_write_checkpoint',\n  'f2fs_write_end',\n];\n\nconst ATRACE_CATERGORIES = [\n  'gfx',         'input',     'view',       'webview',    'wm',\n  'am',          'sm',        'audio',      'video',      'camera',\n  'hal',         'res',       'dalvik',     'rs',         'bionic',\n  'power',       'pm',        'ss',         'database',   'network',\n  'adb',         'vibrator',  'aidl',       'nnapi',      'sched',\n  'irq',         'irqoff',    'preemptoff', 'i2c',        'freq',\n  'membus',      'idle',      'disk',       'mmc',        'load',\n  'sync',        'workq',     'memreclaim', 'regulators', 'binder_driver',\n  'binder_lock', 'pagecache',\n];\n\nconst ATRACE_APPS = [\n  'com.android.chrome',\n  'com.android.bluetooth',\n  'com.android.chrome',\n  'com.android.nfc',\n  'com.android.phone',\n  'com.android.settings',\n  'com.android.systemui',\n  'com.android.vending',\n  'com.google.android.apps.messaging',\n  'com.google.android.apps.nexuslauncher',\n  'com.google.android.connectivitymonitor',\n  'com.google.android.contacts',\n  'com.google.android.gms',\n  'com.google.android.gms.learning',\n  'com.google.android.gms.persistent',\n  'com.google.android.gms.unstable',\n  'com.google.android.googlequicksearchbox',\n  'com.google.android.setupwizard',\n  'com.google.android.volta',\n];\n\nconst DURATION_HELP = `Duration to trace for.`;\nconst BUFFER_SIZE_HELP = `Size of the ring buffer which stores the trace.`;\nconst PROCESS_METADATA_HELP =\n    `Record process names and parent child relationships.`;\nconst SCAN_ALL_PROCESSES_ON_START_HELP =\n    `When tracing begins read metadata for all processes.`;\n\nfunction toId(label: string): string {\n  return label.toLowerCase().replace(' ', '-');\n}\n\ninterface CodeSampleAttrs {\n  text: string;\n  hardWhitespace?: boolean;\n}\n\nclass CodeSample implements m.ClassComponent<CodeSampleAttrs> {\n  view({attrs}: m.CVnode<CodeSampleAttrs>) {\n    return m(\n        '.example-code',\n        m('code',\n          {\n            style: {\n              'white-space': attrs.hardWhitespace ? 'pre' : null,\n            },\n          },\n          attrs.text),\n        m('button',\n          {\n            onclick: () => copyToClipboard(attrs.text),\n          },\n          'Copy to clipboard'));\n  }\n}\n\ninterface ToggleAttrs {\n  label: string;\n  value: boolean;\n  help: string;\n  enabled: boolean;\n  onchange: (v: boolean) => void;\n}\n\nclass Toggle implements m.ClassComponent<ToggleAttrs> {\n  view({attrs}: m.CVnode<ToggleAttrs>) {\n    return m(\n        'label.checkbox',\n        {\n          title: attrs.help,\n          class: attrs.enabled ? '' : 'disabled',\n\n        },\n        attrs.label,\n        m('input[type=\"checkbox\"]', {\n          onchange: m.withAttr('checked', attrs.onchange),\n          disabled: !attrs.enabled,\n          checked: attrs.value,\n        }));\n  }\n}\n\ninterface MultiSelectAttrs {\n  enabled: boolean;\n  label: string;\n  selected: string[];\n  options: string[];\n  onadd: (value: string) => void;\n  onsubtract: (value: string) => void;\n}\n\nclass MultiSelect implements m.ClassComponent<MultiSelectAttrs> {\n  view({attrs}: m.CVnode<MultiSelectAttrs>) {\n    return m(\n        'label.multiselect',\n        {class: attrs.enabled ? '' : 'disabled'},\n        attrs.label,\n        m('input', {\n          list: toId(attrs.label),\n          disabled: !attrs.enabled,\n          onchange: (e: Event) => {\n            const elem = e.target as HTMLInputElement;\n            attrs.onadd(elem.value);\n            elem.value = '';\n          },\n        }),\n        m('datalist',\n          {\n            id: toId(attrs.label),\n          },\n          attrs.options.filter(option => !attrs.selected.includes(option))\n              .map(value => m('option', {value}))),\n        m('.multiselect-selected',\n          attrs.selected.map(\n              selected =>\n                  m('button.multiselect-selected',\n                    {\n                      onclick: (_: Event) => attrs.onsubtract(selected),\n                    },\n                    selected))), );\n  }\n}\n\ninterface Preset {\n  label: string;\n  value: number;\n}\n\ninterface NumericAttrs {\n  label: string;\n  sublabel: string;\n  help: string;\n  value: number;\n  onchange: (value: number) => void;\n  presets: Preset[];\n}\n\nclass Numeric implements m.ClassComponent<NumericAttrs> {\n  view({attrs}: m.CVnode<NumericAttrs>) {\n    return m(\n        'label.range',\n        {\n          'for': `range-${attrs.label}`,\n          'title': attrs.help,\n        },\n        attrs.label,\n        m('.range-control',\n          attrs.presets.map(\n              p =>\n                  m('button',\n                    {\n                      class: attrs.value === p.value ? 'selected' : '',\n                      onclick: () => attrs.onchange(p.value),\n                    },\n                    p.label)),\n          m('input[type=number][min=0]', {\n            id: `range-${attrs.label}`,\n            value: attrs.value,\n            onchange: m.withAttr('value', attrs.onchange),\n          })),\n        m('small', attrs.sublabel), );\n  }\n}\n\nexport const RecordPage = createPage({\n  view() {\n    const state = globals.state.recordConfig;\n    const data = globals.trackDataStore.get('config') as {\n      commandline: string,\n      pbtxt: string,\n    } | null;\n    return m(\n        '.record-page',\n\n        m('.text-column', ),\n        m('.text-column', `To collect a ${state.durationSeconds}\n          second Perfetto trace from an Android phone run this command:`),\n        m('.text-column',\n          `A Perfetto config controls what and how much information is\n        collected. It is encoded as a `,\n          m('a',\n            {\n              href: CONFIG_PROTO_URL,\n            },\n            'proto'),\n          '.'),\n\n        m('.text-column',\n          m(Numeric, {\n            label: 'Duration',\n            sublabel: 's',\n            value: state.durationSeconds,\n            help: DURATION_HELP,\n            onchange: (value: number) => {\n              globals.dispatch(\n                  Actions.setConfigControl({name: 'durationSeconds', value}));\n            },\n            presets: [\n              {label: '10s', value: 10},\n              {label: '1m', value: 60},\n            ]\n          }),\n\n          m(Numeric, {\n            label: 'Buffer size',\n            sublabel: 'mb',\n            help: BUFFER_SIZE_HELP,\n            value: state.bufferSizeMb,\n            onchange: (value: number) => {\n              globals.dispatch(\n                  Actions.setConfigControl({name: 'bufferSizeMb', value}));\n            },\n            presets: [\n              {label: '1mb', value: 1},\n              {label: '10mb', value: 10},\n              {label: '20mb', value: 20},\n            ]\n          }),\n\n          m(Toggle, {\n            label: 'Process Metadata',\n            help: PROCESS_METADATA_HELP,\n            value: state.processMetadata,\n            enabled: true,\n            onchange: (value: boolean) => {\n              globals.dispatch(\n                  Actions.setConfigControl({name: 'processMetadata', value}));\n            },\n          }),\n          m('.control-group', m(Toggle, {\n              label: 'Scan all processes on start',\n              value: state.scanAllProcessesOnStart,\n              help: SCAN_ALL_PROCESSES_ON_START_HELP,\n              enabled: state.processMetadata,\n              onchange: (value: boolean) => {\n                globals.dispatch(Actions.setConfigControl(\n                    {name: 'scanAllProcessesOnStart', value}));\n              },\n            }), ),\n\n          m(Toggle, {\n            label: 'Ftrace & Atrace',\n            value: state.ftrace,\n            enabled: true,\n            help: SCAN_ALL_PROCESSES_ON_START_HELP,\n            onchange: (value: boolean) => {\n              globals.dispatch(\n                  Actions.setConfigControl({name: 'ftrace', value}));\n            },\n          }),\n\n          m('.control-group',\n            m(MultiSelect, {\n              label: 'Ftrace Events',\n              enabled: state.ftrace,\n              selected: state.ftraceEvents,\n              options: FTRACE_EVENTS,\n              onadd: (option: string) => {\n                globals.dispatch(\n                    Actions.addConfigControl({name: 'ftraceEvents', option}));\n              },\n              onsubtract: (option: string) => {\n                globals.dispatch(Actions.removeConfigControl(\n                    {name: 'ftraceEvents', option}));\n              },\n            }),\n\n            m(MultiSelect, {\n              label: 'Atrace Categories',\n              enabled: state.ftrace,\n              selected: state.atraceCategories,\n              options: ATRACE_CATERGORIES,\n              onadd: (option: string) => {\n                globals.dispatch(Actions.addConfigControl(\n                    {name: 'atraceCategories', option}));\n              },\n              onsubtract: (option: string) => {\n                globals.dispatch(Actions.removeConfigControl(\n                    {name: 'atraceCategories', option}));\n              },\n            }),\n\n            m(MultiSelect, {\n              label: 'Atrace Apps',\n              enabled: state.ftrace,\n              selected: state.atraceApps,\n              options: ATRACE_APPS,\n              onadd: (option: string) => {\n                globals.dispatch(\n                    Actions.addConfigControl({name: 'atraceApps', option}));\n              },\n              onsubtract: (option: string) => {\n                globals.dispatch(\n                    Actions.removeConfigControl({name: 'atraceApps', option}));\n              },\n            }), ),\n\n          ),\n\n        data ?\n            [\n              m('.text-column',\n                m(CodeSample, {text: data.commandline}),\n                'Then click \"Open trace file\" in the menu to the left and select',\n                ' \"/tmp/trace\".', ),\n              m('.text-column',\n                m(CodeSample, {text: data.pbtxt, hardWhitespace: true}), ),\n            ] :\n            null);\n  }\n});\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport async function copyToClipboard(text: string): Promise<void> {\n  try {\n    // TODO(hjd): Fix typescript type for navigator.\n    // tslint:disable-next-line no-any\n    await(navigator as any).clipboard.writeText(text);\n  } catch (err) {\n    console.error(`Failed to copy \"${text}\" to clipboard: ${err}`);\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {createPage} from './pages';\n\nexport const HomePage = createPage({\n  view() {\n    return m(\n        '.page.home-page',\n        m('.home-page-title', 'Perfetto'),\n        m('img.logo[src=assets/logo-3d.png]'), );\n  },\n});\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {globals} from './globals';\nimport {Sidebar} from './sidebar';\nimport {Topbar} from './topbar';\n\nfunction renderPermalink(): m.Children {\n  if (!globals.state.permalink.requestId) return null;\n  const hash = globals.state.permalink.hash;\n  const url = `${self.location.origin}#!/?s=${hash}`;\n  return m(\n      '.alert-permalink',\n      hash ? ['Permalink: ', m(`a[href=${url}]`, url)] : 'Uploading...');\n}\n\nclass Alerts implements m.ClassComponent {\n  view() {\n    return m('.alerts', renderPermalink());\n  }\n}\n\nconst TogglePerfDebugButton = {\n  view() {\n    return m(\n        '.perf-monitor-button',\n        m('button',\n          {\n            onclick: () => globals.frontendLocalState.togglePerfDebug(),\n          },\n          m('i.material-icons',\n            {\n              title: 'Toggle Perf Debug Mode',\n            },\n            'assessment')));\n  }\n};\n\nconst PerfStats: m.Component = {\n  view() {\n    const perfDebug = globals.frontendLocalState.perfDebug;\n    const children = [m(TogglePerfDebugButton)];\n    if (perfDebug) {\n      children.unshift(m('.perf-stats-content'));\n    }\n    return m(`.perf-stats[expanded=${perfDebug}]`, children);\n  }\n};\n\n/**\n * Wrap component with common UI elements (nav bar etc).\n */\nexport function createPage(component: m.Component): m.Component {\n  const pageComponent = {\n    view() {\n      return [\n        m(Sidebar),\n        m(Topbar),\n        m(component),\n        m(Alerts),\n        m(PerfStats),\n      ];\n    },\n  };\n\n  return pageComponent;\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {Actions} from '../common/actions';\nimport {QueryResponse} from '../common/queries';\nimport {EngineConfig} from '../common/state';\n\nimport {globals} from './globals';\n\nconst QUERY_ID = 'quicksearch';\n\nlet selResult = 0;\nlet numResults = 0;\nlet mode: 'search'|'command' = 'search';\n\nfunction clearOmniboxResults() {\n  globals.queryResults.delete(QUERY_ID);\n  globals.dispatch(Actions.deleteQuery({queryId: QUERY_ID}));\n}\n\nfunction onKeyDown(e: Event) {\n  e.stopPropagation();\n  const key = (e as KeyboardEvent).key;\n\n  // Avoid that the global 'a', 'd', 'w', 's' handler sees these keystrokes.\n  // TODO: this seems a bug in the pan_and_zoom_handler.ts.\n  if (key === 'ArrowUp' || key === 'ArrowDown') {\n    e.preventDefault();\n    return;\n  }\n  const txt = (e.target as HTMLInputElement);\n  if (key === ':' && txt.value === '') {\n    mode = 'command';\n    globals.rafScheduler.scheduleFullRedraw();\n    e.preventDefault();\n    return;\n  }\n  if (key === 'Escape' && mode === 'command') {\n    txt.value = '';\n    mode = 'search';\n    globals.rafScheduler.scheduleFullRedraw();\n    return;\n  }\n  if (key === 'Backspace' && txt.value.length === 0 && mode === 'command') {\n    mode = 'search';\n    globals.rafScheduler.scheduleFullRedraw();\n    return;\n  }\n}\n\nfunction onKeyUp(e: Event) {\n  e.stopPropagation();\n  const key = (e as KeyboardEvent).key;\n  const txt = e.target as HTMLInputElement;\n  if (key === 'ArrowUp' || key === 'ArrowDown') {\n    selResult += (key === 'ArrowUp') ? -1 : 1;\n    selResult = Math.max(selResult, 0);\n    selResult = Math.min(selResult, numResults - 1);\n    e.preventDefault();\n    globals.rafScheduler.scheduleFullRedraw();\n    return;\n  }\n  if (txt.value.length <= 0 || key === 'Escape') {\n    clearOmniboxResults();\n    globals.rafScheduler.scheduleFullRedraw();\n    return;\n  }\n  if (mode === 'search') {\n    const name = txt.value.replace(/'/g, '\\\\\\'').replace(/[*]/g, '%');\n    const query = `select str from strings where str like '%${name}%' limit 10`;\n    globals.dispatch(\n        Actions.executeQuery({engineId: '0', queryId: QUERY_ID, query}));\n  }\n  if (mode === 'command' && key === 'Enter') {\n    globals.dispatch(Actions.executeQuery(\n        {engineId: '0', queryId: 'command', query: txt.value}));\n  }\n}\n\n\nclass Omnibox implements m.ClassComponent {\n  oncreate(vnode: m.VnodeDOM) {\n    const txt = vnode.dom.querySelector('input') as HTMLInputElement;\n    txt.addEventListener('blur', clearOmniboxResults);\n    txt.addEventListener('keydown', onKeyDown);\n    txt.addEventListener('keyup', onKeyUp);\n  }\n\n  view() {\n    const msgTTL = globals.state.status.timestamp + 3 - Date.now() / 1e3;\n    let enginesAreBusy = false;\n    for (const engine of Object.values(globals.state.engines)) {\n      enginesAreBusy = enginesAreBusy || !engine.ready;\n    }\n\n    if (msgTTL > 0 || enginesAreBusy) {\n      setTimeout(\n          () => globals.rafScheduler.scheduleFullRedraw(), msgTTL * 1000);\n      return m(\n          `.omnibox.message-mode`,\n          m(`input[placeholder=${globals.state.status.msg}][readonly]`));\n    }\n\n    // TODO(primiano): handle query results here.\n    const results = [];\n    const resp = globals.queryResults.get(QUERY_ID) as QueryResponse;\n    if (resp !== undefined) {\n      numResults = resp.rows ? resp.rows.length : 0;\n      for (let i = 0; i < resp.rows.length; i++) {\n        const clazz = (i === selResult) ? '.selected' : '';\n        results.push(m(`div${clazz}`, resp.rows[i][resp.columns[0]]));\n      }\n    }\n    const placeholder = {\n      search: 'Search or type : to enter command mode',\n      command: 'e.g., select * from sched left join thread using(utid) limit 10'\n    };\n\n    const commandMode = mode === 'command';\n    return m(\n        `.omnibox${commandMode ? '.command-mode' : ''}`,\n        m(`input[placeholder=${placeholder[mode]}]`),\n        m('.omnibox-results', results));\n  }\n}\n\nexport class Topbar implements m.ClassComponent {\n  view() {\n    const progBar = [];\n    const engine: EngineConfig = globals.state.engines['0'];\n    if (globals.state.queries[QUERY_ID] !== undefined ||\n        (engine !== undefined && !engine.ready)) {\n      progBar.push(m('.progress'));\n    }\n    return m('.topbar', m(Omnibox), ...progBar);\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {Actions} from '../common/actions';\n\nimport {globals} from './globals';\n\nconst ALL_PROCESSES_QUERY = 'select name, pid from process order by name;';\n\nconst CPU_TIME_FOR_PROCESSES = `\nselect\n  process.name,\n  tot_proc/1e9 as cpu_sec\nfrom\n  (select\n    upid,\n    sum(tot_thd) as tot_proc\n  from\n    (select\n      utid,\n      sum(dur) as tot_thd\n    from sched group by utid)\n  join thread using(utid) group by upid)\njoin process using(upid)\norder by cpu_sec desc limit 100;`;\n\nconst CYCLES_PER_P_STATE_PER_CPU = `\nselect ref as cpu, value as freq, sum(dur * value)/1e6 as mcycles\nfrom counters group by cpu, freq order by mcycles desc limit 20;`;\n\nconst CPU_TIME_BY_CLUSTER_BY_PROCESS = `\nselect\nthread.name as comm,\ncase when cpug = 0 then 'big' else 'little' end as core,\ncpu_sec from\n  (select cpu/4 cpug, utid, sum(dur)/1e9 as cpu_sec\n  from sched group by utid, cpug order by cpu_sec desc)\nleft join thread using(utid)\nlimit 20;`;\n\nfunction createCannedQuery(query: string): (_: Event) => void {\n  return (e: Event) => {\n    e.preventDefault();\n    globals.dispatch(Actions.executeQuery({\n      engineId: '0',\n      queryId: 'command',\n      query,\n    }));\n  };\n}\n\nconst EXAMPLE_ANDROID_TRACE_URL =\n    'https://storage.googleapis.com/perfetto-misc/example_trace_30s';\n\nconst EXAMPLE_CHROME_TRACE_URL =\n    'https://storage.googleapis.com/perfetto-misc/example_chrome_trace_10s.json';\n\nconst SMALL_CHROME_TRACE_URL =\n  'https://deepanjan.me/previews/trace_small_chrome.json';\n\n\nconst SECTIONS = [\n  {\n    title: 'Traces',\n    summary: 'Open or record a trace',\n    expanded: true,\n    items: [\n      {t: 'Open trace file', a: popupFileSelectionDialog, i: 'folder_open'},\n      {\n        t: 'Open Android example',\n        a: openTraceUrl(EXAMPLE_ANDROID_TRACE_URL),\n        i: 'description'\n      },\n      {\n        t: 'Open Chrome example',\n        a: openTraceUrl(EXAMPLE_CHROME_TRACE_URL),\n        i: 'description'\n      },\n      {\n        t: 'Open small chrome example',\n        a: openTraceUrl(SMALL_CHROME_TRACE_URL),\n        i: 'description'\n      },\n      {t: 'Record new trace', a: navigateRecord, i: 'fiber_smart_record'},\n      {t: 'Share current trace', a: dispatchCreatePermalink, i: 'share'},\n    ],\n  },\n  {\n    title: 'Workspaces',\n    summary: 'Custom and pre-arranged views',\n    items: [\n      {t: 'Big Picture', a: navigateHome, i: 'art_track'},\n      {t: 'Apps and process', a: navigateHome, i: 'apps'},\n      {t: 'Storage and I/O', a: navigateHome, i: 'storage'},\n      {t: 'Add custom...', a: navigateHome, i: 'library_add'},\n    ],\n  },\n  {\n    title: 'Tracks and views',\n    summary: 'Add new tracks to the workspace',\n    items: [\n      {t: 'User interactions', a: navigateHome, i: 'touch_app'},\n      {t: 'Device info', a: navigateHome, i: 'perm_device_information'},\n      {t: 'Scheduler trace', a: navigateHome, i: 'blur_linear'},\n      {t: 'Process list', a: navigateHome, i: 'equalizer'},\n      {t: 'Battery and power', a: navigateHome, i: 'battery_alert'},\n    ],\n  },\n  {\n    title: 'Metrics and auditors',\n    summary: 'Add new tracks to the workspace',\n    items: [\n      {\n        t: 'All Processes',\n        a: createCannedQuery(ALL_PROCESSES_QUERY),\n        i: 'search',\n      },\n      {\n        t: 'CPU Time by process',\n        a: createCannedQuery(CPU_TIME_FOR_PROCESSES),\n        i: 'search',\n      },\n      {\n        t: 'Cycles by p-state by CPU',\n        a: createCannedQuery(CYCLES_PER_P_STATE_PER_CPU),\n        i: 'search',\n      },\n      {\n        t: 'CPU Time by cluster by process',\n        a: createCannedQuery(CPU_TIME_BY_CLUSTER_BY_PROCESS),\n        i: 'search',\n      },\n    ],\n  },\n];\n\nfunction popupFileSelectionDialog(e: Event) {\n  e.preventDefault();\n  (document.querySelector('input[type=file]')! as HTMLInputElement).click();\n}\n\nfunction openTraceUrl(url: string): (e: Event) => void {\n  return e => {\n    e.preventDefault();\n    globals.dispatch(Actions.openTraceFromUrl({url}));\n  };\n}\n\nfunction onInputElementFileSelectionChanged(e: Event) {\n  if (!(e.target instanceof HTMLInputElement)) {\n    throw new Error('Not an input element');\n  }\n  if (!e.target.files) return;\n  globals.dispatch(Actions.openTraceFromFile({file: e.target.files[0]}));\n}\n\nfunction navigateHome(e: Event) {\n  e.preventDefault();\n  globals.dispatch(Actions.navigate({route: '/'}));\n}\n\nfunction navigateRecord(e: Event) {\n  e.preventDefault();\n  globals.dispatch(Actions.navigate({route: '/record'}));\n}\n\nfunction dispatchCreatePermalink(e: Event) {\n  e.preventDefault();\n  // TODO(hjd): Should requestId not be set to nextId++ in the controller?\n  globals.dispatch(Actions.createPermalink({\n    requestId: new Date().toISOString(),\n  }));\n}\n\nexport class Sidebar implements m.ClassComponent {\n  view() {\n    const vdomSections = [];\n    for (const section of SECTIONS) {\n      const vdomItems = [];\n      for (const item of section.items) {\n        vdomItems.push(\n            m('li',\n              m(`a[href=#]`,\n                {onclick: item.a},\n                m('i.material-icons', item.i),\n                item.t)));\n      }\n      vdomSections.push(\n          m(`section${section.expanded ? '.expanded' : ''}`,\n            m('.section-header',\n              {\n                onclick: () => {\n                  section.expanded = !section.expanded;\n                  globals.rafScheduler.scheduleFullRedraw();\n                }\n              },\n              m('h1', section.title),\n              m('h2', section.summary), ),\n            m('.section-content', m('ul', vdomItems))));\n    }\n    return m(\n        'nav.sidebar',\n        m('header', 'Perfetto'),\n        m('input[type=file]', {onchange: onInputElementFileSelectionChanged}),\n        ...vdomSections);\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {defer, Deferred} from './deferred';\n\ninterface RemoteResponse {\n  id: number;\n  result: {};\n}\n\n/**\n * A proxy for an object that lives on another thread.\n */\nexport class Remote {\n  private nextRequestId: number;\n  private port: MessagePort;\n  // tslint:disable-next-line no-any\n  private deferredRequests: Map<number, Deferred<any>>;\n\n  constructor(port: MessagePort) {\n    this.nextRequestId = 0;\n    this.deferredRequests = new Map();\n    this.port = port;\n    this.port.onmessage = (event: MessageEvent) => {\n      this.receive(event.data);\n    };\n  }\n\n  /**\n   * Invoke method with name |method| with |args| on the remote object.\n   * Optionally set |transferList| to transfer those objects.\n   */\n  // tslint:disable-next-line no-any\n  send<T extends any>(\n      method: string, args: Array<{}>, transferList?: Array<{}>): Promise<T> {\n    const d = defer<T>();\n    this.deferredRequests.set(this.nextRequestId, d);\n    this.port.postMessage(\n        {\n          responseId: this.nextRequestId,\n          method,\n          args,\n        },\n        transferList);\n    this.nextRequestId += 1;\n    return d;\n  }\n\n  private receive(response: RemoteResponse): void {\n    const d = this.deferredRequests.get(response.id);\n    if (!d) throw new Error(`No deferred response with ID ${response.id}`);\n    this.deferredRequests.delete(response.id);\n    d.resolve(response.result);\n  }\n}\n\n/**\n * Given a MessagePort |port| where the other end is owned by a Remote\n * (see above) turn each incoming MessageEvent into a call on |handler|\n * and post the result back to the calling thread.\n */\nexport function forwardRemoteCalls(\n    port: MessagePort,\n    // tslint:disable-next-line no-any\n    handler: {[key: string]: any}) {\n  port.onmessage = (msg: MessageEvent) => {\n    const method = msg.data.method;\n    const id = msg.data.responseId;\n    const args = msg.data.args || [];\n    if (method === undefined || id === undefined) {\n      throw new Error(`Invalid call method: ${method} id: ${id}`);\n    }\n\n    if (!(handler[method] instanceof Function)) {\n      throw new Error(`Method not known: ${method}(${args})`);\n    }\n\n    const result = handler[method].apply(handler, args);\n    const transferList = [];\n\n    if (result !== undefined && result.port instanceof MessagePort) {\n      transferList.push(result.port);\n    }\n\n    port.postMessage(\n        {\n          id,\n          result,\n        },\n        transferList);\n  };\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// tslint:disable:no-any\n\n/**\n * Promise wrapper with exposed resolve and reject callbacks.\n */\nexport interface Deferred<T> extends Promise<T> {\n  readonly resolve: (value?: T|PromiseLike<T>) => void;\n  readonly reject: (reason?: any) => void;\n}\n\n/**\n * Create a promise with exposed resolve and reject callbacks.\n */\nexport function defer<T>(): Deferred<T> {\n  let resolve = null as any;\n  let reject = null as any;\n  const p = new Promise((res, rej) => [resolve, reject] = [res, rej]);\n  return Object.assign(p, {resolve, reject}) as any;\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Actions} from '../../common/actions';\nimport {TrackState} from '../../common/state';\nimport {checkerboardExcept} from '../../frontend/checkerboard';\nimport {globals} from '../../frontend/globals';\nimport {Track} from '../../frontend/track';\nimport {trackRegistry} from '../../frontend/track_registry';\n\nimport {\n  Config,\n  Data,\n  PROCESS_SUMMARY_TRACK,\n} from './common';\n\n// 0.5 Makes the horizontal lines sharp.\nconst MARGIN_TOP = 7.5;\nconst RECT_HEIGHT = 30;\n\nfunction getCurResolution() {\n  // Truncate the resolution to the closest power of 10.\n  const resolution = globals.frontendLocalState.timeScale.deltaPxToDuration(1);\n  return Math.pow(10, Math.floor(Math.log10(resolution)));\n}\n\nclass ProcessSummaryTrack extends Track<Config, Data> {\n  static readonly kind = PROCESS_SUMMARY_TRACK;\n  static create(trackState: TrackState): ProcessSummaryTrack {\n    return new ProcessSummaryTrack(trackState);\n  }\n\n  private reqPending = false;\n  private hue: number;\n\n  constructor(trackState: TrackState) {\n    super(trackState);\n    this.hue = (128 + (32 * this.config.upid)) % 256;\n  }\n\n  // TODO(dproy): This code should be factored out.\n  reqDataDeferred() {\n    const {visibleWindowTime} = globals.frontendLocalState;\n    const reqStart = visibleWindowTime.start - visibleWindowTime.duration;\n    const reqEnd = visibleWindowTime.end + visibleWindowTime.duration;\n    const reqRes = getCurResolution();\n    this.reqPending = false;\n    globals.dispatch(Actions.reqTrackData({\n      trackId: this.trackState.id,\n      start: reqStart,\n      end: reqEnd,\n      resolution: reqRes\n    }));\n  }\n\n  renderCanvas(ctx: CanvasRenderingContext2D): void {\n    const {timeScale, visibleWindowTime} = globals.frontendLocalState;\n    const data = this.data();\n\n    // If there aren't enough cached slices data in |data| request more to\n    // the controller.\n    const inRange = data !== undefined &&\n        (visibleWindowTime.start >= data.start &&\n         visibleWindowTime.end <= data.end);\n    if (!inRange || data === undefined ||\n        data.resolution !== getCurResolution()) {\n      if (!this.reqPending) {\n        this.reqPending = true;\n        setTimeout(() => this.reqDataDeferred(), 50);\n      }\n    }\n    if (data === undefined) return;  // Can't possibly draw anything.\n\n    checkerboardExcept(\n        ctx,\n        timeScale.timeToPx(visibleWindowTime.start),\n        timeScale.timeToPx(visibleWindowTime.end),\n        timeScale.timeToPx(data.start),\n        timeScale.timeToPx(data.end));\n\n    this.renderSummary(ctx, data);\n  }\n\n  // TODO(dproy): Dedup with CPU slices.\n  renderSummary(ctx: CanvasRenderingContext2D, data: Data): void {\n    const {timeScale, visibleWindowTime} = globals.frontendLocalState;\n    const startPx = Math.floor(timeScale.timeToPx(visibleWindowTime.start));\n    const bottomY = MARGIN_TOP + RECT_HEIGHT;\n\n    let lastX = startPx;\n    let lastY = bottomY;\n\n    ctx.fillStyle = `hsl(${this.hue}, 50%, 60%)`;\n    ctx.beginPath();\n    ctx.moveTo(lastX, lastY);\n    for (let i = 0; i < data.utilizations.length; i++) {\n      // TODO(dproy): Investigate why utilization is > 1 sometimes.\n      const utilization = Math.min(data.utilizations[i], 1);\n      const startTime = i * data.bucketSizeSeconds + data.start;\n\n      lastX = Math.floor(timeScale.timeToPx(startTime));\n\n      ctx.lineTo(lastX, lastY);\n      lastY = MARGIN_TOP + Math.round(RECT_HEIGHT * (1 - utilization));\n      ctx.lineTo(lastX, lastY);\n    }\n    ctx.lineTo(lastX, bottomY);\n    ctx.closePath();\n    ctx.fill();\n  }\n}\n\ntrackRegistry.register(ProcessSummaryTrack);\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport const PROCESS_SUMMARY_TRACK = 'ProcessSummaryTrack';\n\n// TODO(dproy): Consider deduping with CPU summary data.\nexport interface Data {\n  start: number;\n  end: number;\n  resolution: number;\n  bucketSizeSeconds: number;\n  utilizations: Float64Array;\n}\n\nexport interface Config { upid: number; }\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Actions} from '../../common/actions';\nimport {TrackState} from '../../common/state';\nimport {checkerboardExcept} from '../../frontend/checkerboard';\nimport {globals} from '../../frontend/globals';\nimport {Track} from '../../frontend/track';\nimport {trackRegistry} from '../../frontend/track_registry';\n\nimport {Config, Data, KIND} from './common';\n\n// TODO(hjd): De-dupe this from ChromeSliceTrack, CpuSliceTrack and VsyncTrack.\nconst MARGIN_TOP = 5.5;\nconst RECT_HEIGHT = 30;\n\nfunction getCurResolution() {\n  // Truncate the resolution to the closest power of 10.\n  const resolution = globals.frontendLocalState.timeScale.deltaPxToDuration(1);\n  return Math.pow(10, Math.floor(Math.log10(resolution)));\n}\n\nclass VsyncTrack extends Track<Config, Data> {\n  static readonly kind = KIND;\n  static create(trackState: TrackState): VsyncTrack {\n    return new VsyncTrack(trackState);\n  }\n\n  private reqPending = false;\n\n  constructor(trackState: TrackState) {\n    super(trackState);\n  }\n\n  reqDataDeferred() {\n    const {visibleWindowTime} = globals.frontendLocalState;\n    const reqStart = visibleWindowTime.start - visibleWindowTime.duration;\n    const reqEnd = visibleWindowTime.end + visibleWindowTime.duration;\n    const reqRes = getCurResolution();\n    this.reqPending = false;\n    globals.dispatch(Actions.reqTrackData({\n      trackId: this.trackState.id,\n      start: reqStart,\n      end: reqEnd,\n      resolution: reqRes\n    }));\n  }\n\n  renderCanvas(ctx: CanvasRenderingContext2D): void {\n    const {timeScale, visibleWindowTime} = globals.frontendLocalState;\n\n    const data = this.data();\n    const inRange = data !== undefined &&\n        (visibleWindowTime.start >= data.start &&\n         visibleWindowTime.end <= data.end);\n    if (!inRange || data === undefined ||\n        data.resolution !== getCurResolution()) {\n      if (!this.reqPending) {\n        this.reqPending = true;\n        setTimeout(() => this.reqDataDeferred(), 50);\n      }\n    }\n    if (data === undefined) return;  // Can't possibly draw anything.\n\n    const dataStartPx = timeScale.timeToPx(data.start);\n    const dataEndPx = timeScale.timeToPx(data.end);\n    const visibleStartPx = timeScale.timeToPx(visibleWindowTime.start);\n    const visibleEndPx = timeScale.timeToPx(visibleWindowTime.end);\n\n    checkerboardExcept(\n        ctx, visibleStartPx, visibleEndPx, dataStartPx, dataEndPx);\n\n    const bgColor = '#5E909B';\n    const fgColor = '#323D48';\n\n    const startPx = Math.floor(Math.max(dataStartPx, visibleStartPx));\n    const endPx = Math.floor(Math.min(dataEndPx, visibleEndPx));\n\n    ctx.fillStyle = bgColor;\n    ctx.fillRect(startPx, MARGIN_TOP, endPx - startPx, RECT_HEIGHT);\n\n    ctx.fillStyle = fgColor;\n    for (let i = 0; i < data.vsyncs.length; i += 2) {\n      const leftPx = Math.floor(timeScale.timeToPx(data.vsyncs[i]));\n      const rightPx = Math.floor(timeScale.timeToPx(data.vsyncs[i + 1]));\n      if (rightPx < startPx) continue;\n      // TODO(hjd): Do some thing better when very zoomed out.\n      if ((rightPx - leftPx) <= 1) continue;\n      if (leftPx > endPx) break;\n      ctx.fillRect(leftPx, MARGIN_TOP, rightPx - leftPx, RECT_HEIGHT);\n    }\n  }\n}\n\ntrackRegistry.register(VsyncTrack);\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport const KIND = 'VsyncTrack';\n\nexport interface Data {\n  start: number;\n  end: number;\n  resolution: number;\n  vsyncs: Float64Array;\n}\n\nexport interface Config { counterName: string; }\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Actions} from '../../common/actions';\nimport {TrackState} from '../../common/state';\nimport {checkerboardExcept} from '../../frontend/checkerboard';\nimport {globals} from '../../frontend/globals';\nimport {Track} from '../../frontend/track';\nimport {trackRegistry} from '../../frontend/track_registry';\n\nimport {Config, Data, SLICE_TRACK_KIND} from './common';\n\nconst SLICE_HEIGHT = 30;\nconst TRACK_PADDING = 5;\n\nfunction hash(s: string): number {\n  let hash = 0x811c9dc5 & 0xfffffff;\n  for (let i = 0; i < s.length; i++) {\n    hash ^= s.charCodeAt(i);\n    hash = (hash * 16777619) & 0xffffffff;\n  }\n  return hash & 0xff;\n}\n\nfunction getCurResolution() {\n  // Truncate the resolution to the closest power of 10.\n  const resolution = globals.frontendLocalState.timeScale.deltaPxToDuration(1);\n  return Math.pow(10, Math.floor(Math.log10(resolution)));\n}\n\nclass ChromeSliceTrack extends Track<Config, Data> {\n  static readonly kind = SLICE_TRACK_KIND;\n  static create(trackState: TrackState): ChromeSliceTrack {\n    return new ChromeSliceTrack(trackState);\n  }\n\n  private hoveredTitleId = -1;\n  private reqPending = false;\n\n  constructor(trackState: TrackState) {\n    super(trackState);\n  }\n\n  reqDataDeferred() {\n    const {visibleWindowTime} = globals.frontendLocalState;\n    const reqStart = visibleWindowTime.start - visibleWindowTime.duration;\n    const reqEnd = visibleWindowTime.end + visibleWindowTime.duration;\n    const reqRes = getCurResolution();\n    this.reqPending = false;\n    globals.dispatch(Actions.reqTrackData({\n      trackId: this.trackState.id,\n      start: reqStart,\n      end: reqEnd,\n      resolution: reqRes\n    }));\n  }\n\n  renderCanvas(ctx: CanvasRenderingContext2D): void {\n    // TODO: fonts and colors should come from the CSS and not hardcoded here.\n\n    const {timeScale, visibleWindowTime} = globals.frontendLocalState;\n    const data = this.data();\n\n    // If there aren't enough cached slices data in |data| request more to\n    // the controller.\n    const inRange = data !== undefined &&\n        (visibleWindowTime.start >= data.start &&\n         visibleWindowTime.end <= data.end);\n    if (!inRange || data === undefined ||\n        data.resolution > getCurResolution()) {\n      if (!this.reqPending) {\n        this.reqPending = true;\n        setTimeout(() => this.reqDataDeferred(), 50);\n      }\n      if (data === undefined) return;  // Can't possibly draw anything.\n    }\n\n    // If the cached trace slices don't fully cover the visible time range,\n    // show a gray rectangle with a \"Loading...\" label.\n    checkerboardExcept(\n        ctx,\n        timeScale.timeToPx(visibleWindowTime.start),\n        timeScale.timeToPx(visibleWindowTime.end),\n        timeScale.timeToPx(data.start),\n        timeScale.timeToPx(data.end), );\n\n    ctx.font = '12px Google Sans';\n    ctx.textAlign = 'center';\n\n    // measuretext is expensive so we only use it once.\n    const charWidth = ctx.measureText('abcdefghij').width / 10;\n    const pxEnd = timeScale.timeToPx(visibleWindowTime.end);\n\n    for (let i = 0; i < data.starts.length; i++) {\n      const tStart = data.starts[i];\n      const tEnd = data.ends[i];\n      const depth = data.depths[i];\n      const cat = data.strings[data.categories[i]];\n      const titleId = data.titles[i];\n      const title = data.strings[titleId];\n      if (tEnd <= visibleWindowTime.start || tStart >= visibleWindowTime.end) {\n        continue;\n      }\n      const rectXStart = Math.max(timeScale.timeToPx(tStart), 0);\n      const rectXEnd = Math.min(timeScale.timeToPx(tEnd), pxEnd);\n      const rectWidth = rectXEnd - rectXStart;\n      if (rectWidth < 0.1) continue;\n      const rectYStart = TRACK_PADDING + depth * SLICE_HEIGHT;\n\n      const hovered = titleId === this.hoveredTitleId;\n      const hue = hash(cat);\n      const saturation = Math.min(20 + depth * 10, 70);\n      ctx.fillStyle = `hsl(${hue}, ${saturation}%, ${hovered ? 30 : 65}%)`;\n\n      ctx.fillRect(rectXStart, rectYStart, rectWidth, SLICE_HEIGHT);\n\n      const nameLength = title.length * charWidth;\n      ctx.fillStyle = 'white';\n      const maxTextWidth = rectWidth - 15;\n      let displayText = '';\n      if (nameLength < maxTextWidth) {\n        displayText = title;\n      } else {\n        // -3 for the 3 ellipsis.\n        const displayedChars = Math.floor(maxTextWidth / charWidth) - 3;\n        if (displayedChars > 3) {\n          displayText = title.substring(0, displayedChars) + '...';\n        }\n      }\n      const rectXCenter = rectXStart + rectWidth / 2;\n      ctx.fillText(displayText, rectXCenter, rectYStart + SLICE_HEIGHT / 2);\n    }\n  }\n\n  onMouseMove({x, y}: {x: number, y: number}) {\n    const data = this.data();\n    this.hoveredTitleId = -1;\n    if (data === undefined) return;\n    const {timeScale} = globals.frontendLocalState;\n    if (y < TRACK_PADDING) return;\n    const t = timeScale.pxToTime(x);\n    const depth = Math.floor(y / SLICE_HEIGHT);\n    for (let i = 0; i < data.starts.length; i++) {\n      const tStart = data.starts[i];\n      const tEnd = data.ends[i];\n      const titleId = data.titles[i];\n      if (tStart <= t && t <= tEnd && depth === data.depths[i]) {\n        this.hoveredTitleId = titleId;\n        break;\n      }\n    }\n  }\n\n  onMouseOut() {\n    this.hoveredTitleId = -1;\n  }\n\n  getHeight() {\n    return SLICE_HEIGHT * (this.config.maxDepth + 1) + 2 * TRACK_PADDING;\n  }\n}\n\ntrackRegistry.register(ChromeSliceTrack);\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport const SLICE_TRACK_KIND = 'ChromeSliceTrack';\n\nexport interface Config {\n  maxDepth: number;\n  upid: number;\n  utid: number;\n}\n\nexport interface Data {\n  start: number;\n  end: number;\n  resolution: number;\n\n  // Slices are stored in a columnar fashion. All fields have the same length.\n  strings: string[];\n  starts: Float64Array;\n  ends: Float64Array;\n  depths: Uint16Array;\n  titles: Uint16Array;      // Index in |strings|.\n  categories: Uint16Array;  // Index in |strings|.\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {assertTrue} from '../../base/logging';\nimport {Actions} from '../../common/actions';\nimport {TrackState} from '../../common/state';\nimport {checkerboardExcept} from '../../frontend/checkerboard';\nimport {globals} from '../../frontend/globals';\nimport {Track} from '../../frontend/track';\nimport {trackRegistry} from '../../frontend/track_registry';\n\nimport {\n  Config,\n  CPU_SLICE_TRACK_KIND,\n  Data,\n  SliceData,\n  SummaryData\n} from './common';\n\n// 0.5 Makes the horizontal lines sharp.\nconst MARGIN_TOP = 5.5;\nconst RECT_HEIGHT = 30;\n\nfunction cropText(str: string, charWidth: number, rectWidth: number) {\n  const maxTextWidth = rectWidth - 4;\n  let displayText = '';\n  const nameLength = str.length * charWidth;\n  if (nameLength < maxTextWidth) {\n    displayText = str;\n  } else {\n    // -3 for the 3 ellipsis.\n    const displayedChars = Math.floor(maxTextWidth / charWidth) - 3;\n    if (displayedChars > 3) {\n      displayText = str.substring(0, displayedChars) + '...';\n    }\n  }\n  return displayText;\n}\n\nfunction getCurResolution() {\n  // Truncate the resolution to the closest power of 10.\n  const resolution = globals.frontendLocalState.timeScale.deltaPxToDuration(1);\n  return Math.pow(10, Math.floor(Math.log10(resolution)));\n}\n\nclass CpuSliceTrack extends Track<Config, Data> {\n  static readonly kind = CPU_SLICE_TRACK_KIND;\n  static create(trackState: TrackState): CpuSliceTrack {\n    return new CpuSliceTrack(trackState);\n  }\n\n  private hoveredUtid = -1;\n  private mouseXpos?: number;\n  private reqPending = false;\n  private hue: number;\n\n  constructor(trackState: TrackState) {\n    super(trackState);\n    // TODO: this needs to be kept in sync with the hue generation algorithm\n    // of overview_timeline_panel.ts\n    this.hue = (128 + (32 * this.config.cpu)) % 256;\n  }\n\n  reqDataDeferred() {\n    const {visibleWindowTime} = globals.frontendLocalState;\n    const reqStart = visibleWindowTime.start - visibleWindowTime.duration;\n    const reqEnd = visibleWindowTime.end + visibleWindowTime.duration;\n    const reqRes = getCurResolution();\n    this.reqPending = false;\n    globals.dispatch(Actions.reqTrackData({\n      trackId: this.trackState.id,\n      start: reqStart,\n      end: reqEnd,\n      resolution: reqRes\n    }));\n  }\n\n  renderCanvas(ctx: CanvasRenderingContext2D): void {\n    // TODO: fonts and colors should come from the CSS and not hardcoded here.\n    const {timeScale, visibleWindowTime} = globals.frontendLocalState;\n    const data = this.data();\n\n    // If there aren't enough cached slices data in |data| request more to\n    // the controller.\n    const inRange = data !== undefined &&\n        (visibleWindowTime.start >= data.start &&\n         visibleWindowTime.end <= data.end);\n    if (!inRange || data === undefined ||\n        data.resolution !== getCurResolution()) {\n      if (!this.reqPending) {\n        this.reqPending = true;\n        setTimeout(() => this.reqDataDeferred(), 50);\n      }\n    }\n    if (data === undefined) return;  // Can't possibly draw anything.\n\n    // If the cached trace slices don't fully cover the visible time range,\n    // show a gray rectangle with a \"Loading...\" label.\n    checkerboardExcept(\n        ctx,\n        timeScale.timeToPx(visibleWindowTime.start),\n        timeScale.timeToPx(visibleWindowTime.end),\n        timeScale.timeToPx(data.start),\n        timeScale.timeToPx(data.end));\n\n    if (data.kind === 'summary') {\n      this.renderSummary(ctx, data);\n    } else if (data.kind === 'slice') {\n      this.renderSlices(ctx, data);\n    }\n  }\n\n  renderSummary(ctx: CanvasRenderingContext2D, data: SummaryData): void {\n    const {timeScale, visibleWindowTime} = globals.frontendLocalState;\n    const startPx = Math.floor(timeScale.timeToPx(visibleWindowTime.start));\n    const bottomY = MARGIN_TOP + RECT_HEIGHT;\n\n    let lastX = startPx;\n    let lastY = bottomY;\n\n    ctx.fillStyle = `hsl(${this.hue}, 50%, 60%)`;\n    ctx.beginPath();\n    ctx.moveTo(lastX, lastY);\n    for (let i = 0; i < data.utilizations.length; i++) {\n      const utilization = data.utilizations[i];\n      const startTime = i * data.bucketSizeSeconds + data.start;\n\n      lastX = Math.floor(timeScale.timeToPx(startTime));\n\n      ctx.lineTo(lastX, lastY);\n      lastY = MARGIN_TOP + Math.round(RECT_HEIGHT * (1 - utilization));\n      ctx.lineTo(lastX, lastY);\n    }\n    ctx.lineTo(lastX, bottomY);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  renderSlices(ctx: CanvasRenderingContext2D, data: SliceData): void {\n    const {timeScale, visibleWindowTime} = globals.frontendLocalState;\n    assertTrue(data.starts.length === data.ends.length);\n    assertTrue(data.starts.length === data.utids.length);\n\n    ctx.textAlign = 'center';\n    ctx.font = '12px Google Sans';\n    const charWidth = ctx.measureText('dbpqaouk').width / 8;\n\n    for (let i = 0; i < data.starts.length; i++) {\n      const tStart = data.starts[i];\n      const tEnd = data.ends[i];\n      const utid = data.utids[i];\n      if (tEnd <= visibleWindowTime.start || tStart >= visibleWindowTime.end) {\n        continue;\n      }\n      const rectStart = timeScale.timeToPx(tStart);\n      const rectEnd = timeScale.timeToPx(tEnd);\n      const rectWidth = rectEnd - rectStart;\n      if (rectWidth < 0.1) continue;\n\n      const hovered = this.hoveredUtid === utid;\n      ctx.fillStyle = `hsl(${this.hue}, 50%, ${hovered ? 25 : 60}%)`;\n      ctx.fillRect(rectStart, MARGIN_TOP, rectEnd - rectStart, RECT_HEIGHT);\n\n      // TODO: consider de-duplicating this code with the copied one from\n      // chrome_slices/frontend.ts.\n      let title = `[utid:${utid}]`;\n      let subTitle = '';\n      const threadInfo = globals.threads.get(utid);\n      if (threadInfo !== undefined) {\n        title = `${threadInfo.procName} [${threadInfo.pid}]`;\n        subTitle = `${threadInfo.threadName} [${threadInfo.tid}]`;\n      }\n\n      // Don't render text when we have less than 5px to play with.\n      if (rectWidth < 5) continue;\n\n      title = cropText(title, charWidth, rectWidth);\n      subTitle = cropText(subTitle, charWidth, rectWidth);\n      const rectXCenter = rectStart + rectWidth / 2;\n      ctx.fillStyle = '#fff';\n      ctx.font = '12px Google Sans';\n      ctx.fillText(title, rectXCenter, MARGIN_TOP + RECT_HEIGHT / 2 - 3);\n      ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';\n      ctx.font = '10px Google Sans';\n      ctx.fillText(subTitle, rectXCenter, MARGIN_TOP + RECT_HEIGHT / 2 + 11);\n    }\n\n    const hoveredThread = globals.threads.get(this.hoveredUtid);\n    if (hoveredThread !== undefined) {\n      const procTitle = `P: ${hoveredThread.procName} [${hoveredThread.pid}]`;\n      const threadTitle =\n          `T: ${hoveredThread.threadName} [${hoveredThread.tid}]`;\n\n      ctx.font = '10px Google Sans';\n      const procTitleWidth = ctx.measureText(procTitle).width;\n      const threadTitleWidth = ctx.measureText(threadTitle).width;\n      const width = Math.max(procTitleWidth, threadTitleWidth);\n\n      ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';\n      ctx.fillRect(this.mouseXpos!, MARGIN_TOP, width + 16, RECT_HEIGHT);\n      ctx.fillStyle = 'hsl(200, 50%, 40%)';\n      ctx.textAlign = 'left';\n      ctx.fillText(procTitle, this.mouseXpos! + 8, 18);\n      ctx.fillText(threadTitle, this.mouseXpos! + 8, 28);\n    }\n  }\n\n  onMouseMove({x, y}: {x: number, y: number}) {\n    const data = this.data();\n    this.mouseXpos = x;\n    if (data === undefined || data.kind === 'summary') return;\n    const {timeScale} = globals.frontendLocalState;\n    if (y < MARGIN_TOP || y > MARGIN_TOP + RECT_HEIGHT) {\n      this.hoveredUtid = -1;\n      return;\n    }\n    const t = timeScale.pxToTime(x);\n    this.hoveredUtid = -1;\n\n    for (let i = 0; i < data.starts.length; i++) {\n      const tStart = data.starts[i];\n      const tEnd = data.ends[i];\n      const utid = data.utids[i];\n      if (tStart <= t && t <= tEnd) {\n        this.hoveredUtid = utid;\n        break;\n      }\n    }\n  }\n\n  onMouseOut() {\n    this.hoveredUtid = -1;\n    this.mouseXpos = 0;\n  }\n}\n\ntrackRegistry.register(CpuSliceTrack);\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport const CPU_SLICE_TRACK_KIND = 'CpuSliceTrack';\n\nexport interface SummaryData {\n  kind: 'summary';\n\n  start: number;\n  end: number;\n  resolution: number;\n\n  bucketSizeSeconds: number;\n  utilizations: Float64Array;\n}\n\nexport interface SliceData {\n  kind: 'slice';\n\n  start: number;\n  end: number;\n  resolution: number;\n\n  // Slices are stored in a columnar fashion. All fields have the same length.\n  starts: Float64Array;\n  ends: Float64Array;\n  utids: Uint32Array;\n}\n\nexport type Data = SummaryData | SliceData;\n\n\nexport interface Config { cpu: number; }\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Registry} from '../common/registry';\nimport {TrackCreator} from './track';\n\n/**\n * Global registry that maps types to TrackCreator.\n */\nexport const trackRegistry = new Registry<TrackCreator>();\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport interface HasKind { kind: string; }\n\nexport class Registry<T extends HasKind> {\n  private registry: Map<string, T>;\n\n  constructor() {\n    this.registry = new Map<string, T>();\n  }\n\n  register(registrant: T) {\n    const kind = registrant.kind;\n    if (this.registry.has(kind)) {\n      throw new Error(`Registrant ${kind} already exists in the registry`);\n    }\n    this.registry.set(kind, registrant);\n  }\n\n  has(kind: string): boolean {\n    return this.registry.has(kind);\n  }\n\n  get(kind: string): T {\n    const registrant = this.registry.get(kind);\n    if (registrant === undefined) {\n      throw new Error(`${kind} has not been registered.`);\n    }\n    return registrant;\n  }\n\n  unregisterAllForTesting(): void {\n    this.registry.clear();\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {TrackState} from '../common/state';\nimport {globals} from './globals';\n\n/**\n * This interface forces track implementations to have some static properties.\n * Typescript does not have abstract static members, which is why this needs to\n * be in a seperate interface.\n */\nexport interface TrackCreator {\n  // Store the kind explicitly as a string as opposed to using class.kind in\n  // case we ever minify our code.\n  readonly kind: string;\n\n  // We need the |create| method because the stored value in the registry is an\n  // abstract class, and we cannot call 'new' on an abstract class.\n  create(TrackState: TrackState): Track;\n}\n\n/**\n * The abstract class that needs to be implemented by all tracks.\n */\nexport abstract class Track<Config = {}, Data = {}> {\n  constructor(protected trackState: TrackState) {}\n  abstract renderCanvas(ctx: CanvasRenderingContext2D): void;\n\n  get config(): Config {\n    return this.trackState.config as Config;\n  }\n\n  data(): Data|undefined {\n    return globals.trackDataStore.get(this.trackState.id) as Data;\n  }\n\n  getHeight(): number {\n    return 40;\n  }\n\n  onMouseMove(_position: {x: number, y: number}) {}\n\n  onMouseOut() {}\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {assertExists} from '../base/logging';\nimport {DeferredAction} from '../common/actions';\nimport {createEmptyState, State} from '../common/state';\n\nimport {FrontendLocalState} from './frontend_local_state';\nimport {RafScheduler} from './raf_scheduler';\n\ntype Dispatch = (action: DeferredAction) => void;\ntype TrackDataStore = Map<string, {}>;\ntype QueryResultsStore = Map<string, {}>;\n\nexport interface QuantizedLoad {\n  startSec: number;\n  endSec: number;\n  load: number;\n}\ntype OverviewStore = Map<string, QuantizedLoad[]>;\n\nexport interface ThreadDesc {\n  utid: number;\n  tid: number;\n  threadName: string;\n  pid: number;\n  procName: string;\n}\ntype ThreadMap = Map<number, ThreadDesc>;\n\n/**\n * Global accessors for state/dispatch in the frontend.\n */\nclass Globals {\n  private _dispatch?: Dispatch = undefined;\n  private _state?: State = undefined;\n  private _frontendLocalState?: FrontendLocalState = undefined;\n  private _rafScheduler?: RafScheduler = undefined;\n\n  // TODO(hjd): Unify trackDataStore, queryResults, overviewStore, threads.\n  private _trackDataStore?: TrackDataStore = undefined;\n  private _queryResults?: QueryResultsStore = undefined;\n  private _overviewStore?: OverviewStore = undefined;\n  private _threadMap?: ThreadMap = undefined;\n\n  initialize(dispatch?: Dispatch) {\n    this._dispatch = dispatch;\n    this._state = createEmptyState();\n    this._frontendLocalState = new FrontendLocalState();\n    this._rafScheduler = new RafScheduler();\n\n    // TODO(hjd): Unify trackDataStore, queryResults, overviewStore, threads.\n    this._trackDataStore = new Map<string, {}>();\n    this._queryResults = new Map<string, {}>();\n    this._overviewStore = new Map<string, QuantizedLoad[]>();\n    this._threadMap = new Map<number, ThreadDesc>();\n  }\n\n  get state(): State {\n    return assertExists(this._state);\n  }\n\n  set state(state: State) {\n    this._state = assertExists(state);\n  }\n\n  get dispatch(): Dispatch {\n    return assertExists(this._dispatch);\n  }\n\n  get frontendLocalState() {\n    return assertExists(this._frontendLocalState);\n  }\n\n  get rafScheduler() {\n    return assertExists(this._rafScheduler);\n  }\n\n  // TODO(hjd): Unify trackDataStore, queryResults, overviewStore, threads.\n  get overviewStore(): OverviewStore {\n    return assertExists(this._overviewStore);\n  }\n\n  get trackDataStore(): TrackDataStore {\n    return assertExists(this._trackDataStore);\n  }\n\n  get queryResults(): QueryResultsStore {\n    return assertExists(this._queryResults);\n  }\n\n  get threads() {\n    return assertExists(this._threadMap);\n  }\n\n  resetForTesting() {\n    this._dispatch = undefined;\n    this._state = undefined;\n    this._frontendLocalState = undefined;\n    this._rafScheduler = undefined;\n\n    // TODO(hjd): Unify trackDataStore, queryResults, overviewStore, threads.\n    this._trackDataStore = undefined;\n    this._queryResults = undefined;\n    this._overviewStore = undefined;\n    this._threadMap = undefined;\n  }\n}\n\nexport const globals = new Globals();\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {assertTrue} from '../base/logging';\n\nimport {\n  debugNow,\n  measure,\n  perfDebug,\n  perfDisplay,\n  RunningStatistics,\n  runningStatStr\n} from './perf';\n\nfunction statTableHeader() {\n  return m(\n      'tr',\n      m('th', ''),\n      m('th', 'Last (ms)'),\n      m('th', 'Avg (ms)'),\n      m('th', 'Avg-10 (ms)'), );\n}\n\nfunction statTableRow(title: string, stat: RunningStatistics) {\n  return m(\n      'tr',\n      m('td', title),\n      m('td', stat.last.toFixed(2)),\n      m('td', stat.mean.toFixed(2)),\n      m('td', stat.bufferMean.toFixed(2)), );\n}\n\nexport type ActionCallback = (nowMs: number) => void;\nexport type RedrawCallback = (nowMs: number) => void;\n\n// This class orchestrates all RAFs in the UI. It ensures that there is only\n// one animation frame handler overall and that callbacks are called in\n// predictable order. There are two types of callbacks here:\n// - actions (e.g. pan/zoon animations), which will alter the \"fast\"\n//  (main-thread-only) state (e.g. update visible time bounds @ 60 fps).\n// - redraw callbacks that will repaint canvases.\n// This class guarantees that, on each frame, redraw callbacks are called after\n// all action callbacks.\nexport class RafScheduler {\n  private actionCallbacks = new Set<ActionCallback>();\n  private canvasRedrawCallbacks = new Set<RedrawCallback>();\n  private _syncDomRedraw: RedrawCallback = _ => {};\n  private hasScheduledNextFrame = false;\n  private requestedFullRedraw = false;\n  private isRedrawing = false;\n\n  private perfStats = {\n    rafActions: new RunningStatistics(),\n    rafCanvas: new RunningStatistics(),\n    rafDom: new RunningStatistics(),\n    rafTotal: new RunningStatistics(),\n    domRedraw: new RunningStatistics(),\n  };\n\n  start(cb: ActionCallback) {\n    this.actionCallbacks.add(cb);\n    this.maybeScheduleAnimationFrame();\n  }\n\n  stop(cb: ActionCallback) {\n    this.actionCallbacks.delete(cb);\n  }\n\n  addRedrawCallback(cb: RedrawCallback) {\n    this.canvasRedrawCallbacks.add(cb);\n  }\n\n  removeRedrawCallback(cb: RedrawCallback) {\n    this.canvasRedrawCallbacks.delete(cb);\n  }\n\n  scheduleRedraw() {\n    this.maybeScheduleAnimationFrame(true);\n  }\n\n  set domRedraw(cb: RedrawCallback|null) {\n    this._syncDomRedraw = cb || (_ => {});\n  }\n\n  scheduleFullRedraw() {\n    this.requestedFullRedraw = true;\n    this.maybeScheduleAnimationFrame(true);\n  }\n\n  syncDomRedraw(nowMs: number) {\n    const redrawStart = debugNow();\n    this._syncDomRedraw(nowMs);\n    if (perfDebug()) {\n      this.perfStats.domRedraw.addValue(debugNow() - redrawStart);\n    }\n  }\n\n  private syncCanvasRedraw(nowMs: number) {\n    const redrawStart = debugNow();\n    if (this.isRedrawing) return;\n    this.isRedrawing = true;\n    for (const redraw of this.canvasRedrawCallbacks) redraw(nowMs);\n    this.isRedrawing = false;\n    if (perfDebug()) {\n      this.perfStats.rafCanvas.addValue(debugNow() - redrawStart);\n    }\n  }\n\n  private maybeScheduleAnimationFrame(force = false) {\n    if (this.hasScheduledNextFrame) return;\n    if (this.actionCallbacks.size !== 0 || force) {\n      this.hasScheduledNextFrame = true;\n      window.requestAnimationFrame(this.onAnimationFrame.bind(this));\n    }\n  }\n\n  private onAnimationFrame(nowMs: number) {\n    const rafStart = debugNow();\n    this.hasScheduledNextFrame = false;\n\n    const doFullRedraw = this.requestedFullRedraw;\n    this.requestedFullRedraw = false;\n\n    const actionTime = measure(() => {\n      for (const action of this.actionCallbacks) action(nowMs);\n    });\n\n    const domTime = measure(() => {\n      if (doFullRedraw) this.syncDomRedraw(nowMs);\n    });\n    const canvasTime = measure(() => this.syncCanvasRedraw(nowMs));\n\n    const totalRafTime = debugNow() - rafStart;\n    this.updatePerfStats(actionTime, domTime, canvasTime, totalRafTime);\n    perfDisplay.renderPerfStats();\n\n    this.maybeScheduleAnimationFrame();\n  }\n\n  private updatePerfStats(\n      actionsTime: number, domTime: number, canvasTime: number,\n      totalRafTime: number) {\n    if (!perfDebug()) return;\n    this.perfStats.rafActions.addValue(actionsTime);\n    this.perfStats.rafDom.addValue(domTime);\n    this.perfStats.rafCanvas.addValue(canvasTime);\n    this.perfStats.rafTotal.addValue(totalRafTime);\n  }\n\n  renderPerfStats() {\n    assertTrue(perfDebug());\n    return m(\n        'div',\n        m('div',\n          [\n            m('button',\n              {onclick: () => this.scheduleRedraw()},\n              'Do Canvas Redraw'),\n            '   |   ',\n            m('button',\n              {onclick: () => this.scheduleFullRedraw()},\n              'Do Full Redraw'),\n          ]),\n        m('div',\n          'Raf Timing ' +\n              '(Total may not add up due to imprecision)'),\n        m('table',\n          statTableHeader(),\n          statTableRow('Actions', this.perfStats.rafActions),\n          statTableRow('Dom', this.perfStats.rafDom),\n          statTableRow('Canvas', this.perfStats.rafCanvas),\n          statTableRow('Total', this.perfStats.rafTotal), ),\n        m('div',\n          'Dom redraw: ' +\n              `Count: ${this.perfStats.domRedraw.count} | ` +\n              runningStatStr(this.perfStats.domRedraw)), );\n  }\n}\n","\n// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport * as m from 'mithril';\n\nimport {globals} from './globals';\nimport {PanelContainer} from './panel_container';\n\n/**\n * Shorthand for if globals perf debug mode is on.\n */\nexport const perfDebug = () => globals.frontendLocalState.perfDebug;\n\n/**\n * Returns performance.now() if perfDebug is enabled, otherwise 0.\n * This is needed because calling performance.now is generally expensive\n * and should not be done for every frame.\n */\nexport const debugNow = () => perfDebug() ? performance.now() : 0;\n\n/**\n * Returns execution time of |fn| if perf debug mode is on. Returns 0 otherwise.\n */\nexport function measure(fn: () => void): number {\n  const start = debugNow();\n  fn();\n  return debugNow() - start;\n}\n\n/**\n * Stores statistics about samples, and keeps a fixed size buffer of most recent\n * samples.\n */\nexport class RunningStatistics {\n  private _count = 0;\n  private _mean = 0;\n  private _lastValue = 0;\n\n  private buffer: number[] = [];\n\n  constructor(private _maxBufferSize = 10) {}\n\n  addValue(value: number) {\n    this._lastValue = value;\n    this.buffer.push(value);\n    if (this.buffer.length > this._maxBufferSize) {\n      this.buffer.shift();\n    }\n    this._mean = (this._mean * this._count + value) / (this._count + 1);\n    this._count++;\n  }\n\n  get mean() {\n    return this._mean;\n  }\n  get count() {\n    return this._count;\n  }\n  get bufferMean() {\n    return this.buffer.reduce((sum, v) => sum + v, 0) / this.buffer.length;\n  }\n  get bufferSize() {\n    return this.buffer.length;\n  }\n  get maxBufferSize() {\n    return this._maxBufferSize;\n  }\n  get last() {\n    return this._lastValue;\n  }\n}\n\n/**\n * Returns a summary string representation of a RunningStatistics object.\n */\nexport function runningStatStr(stat: RunningStatistics) {\n  return `Last: ${stat.last.toFixed(2)}ms | ` +\n      `Avg: ${stat.mean.toFixed(2)}ms | ` +\n      `Avg${stat.maxBufferSize}: ${stat.bufferMean.toFixed(2)}ms`;\n}\n\n/**\n * Globals singleton class that renders performance stats for the whole app.\n */\nclass PerfDisplay {\n  private containers: PanelContainer[] = [];\n  addContainer(container: PanelContainer) {\n    this.containers.push(container);\n  }\n\n  removeContainer(container: PanelContainer) {\n    const i = this.containers.indexOf(container);\n    this.containers.splice(i, 1);\n  }\n\n  renderPerfStats() {\n    if (!perfDebug()) return;\n    const perfDisplayEl = this.getPerfDisplayEl();\n    if (!perfDisplayEl) return;\n    m.render(perfDisplayEl, [\n      m('section', globals.rafScheduler.renderPerfStats()),\n      this.containers.map((c, i) => m('section', c.renderPerfStats(i)))\n    ]);\n  }\n\n  getPerfDisplayEl() {\n    return document.querySelector('.perf-stats-content');\n  }\n}\n\nexport const perfDisplay = new PerfDisplay();\n",";(function() {\n\"use strict\"\nfunction Vnode(tag, key, attrs0, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children, text: text, dom: dom, domSize: undefined, state: undefined, _state: undefined, events: undefined, instance: undefined, skip: false}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function normalizeChildren(children) {\n\tfor (var i = 0; i < children.length; i++) {\n\t\tchildren[i] = Vnode.normalize(children[i])\n\t}\n\treturn children\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, attrs, children) {\n\tvar hasAttrs = false, childList, text\n\tvar className = attrs.className || attrs.class\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor(var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) {\n\t\t\t\tnewAttrs[key] = attrs[key]\n\t\t\t}\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key)) {\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className !== undefined) {\n\t\tif (attrs.class !== undefined) {\n\t\t\tattrs.class = undefined\n\t\t\tattrs.className = className\n\t\t}\n\t\tif (state.attrs.className != null) {\n\t\t\tattrs.className = state.attrs.className + \" \" + className\n\t\t}\n\t}\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\thasAttrs = true\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\ttext = children[0].children\n\t} else {\n\t\tchildList = children\n\t}\n\treturn Vnode(state.tag, attrs.key, hasAttrs ? attrs : undefined, childList, text)\n}\nfunction hyperscript(selector) {\n\t// Because sloppy mode sucks\n\tvar attrs = arguments[1], start = 2, children\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tif (typeof selector === \"string\") {\n\t\tvar cached = selectorCache[selector] || compileSelector(selector)\n\t}\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = 1\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\tvar normalized = Vnode.normalizeChildren(children)\n\tif (typeof selector === \"string\") {\n\t\treturn execSelector(cached, attrs, normalized)\n\t} else {\n\t\treturn Vnode(selector, attrs.key, attrs, normalized)\n\t}\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function(attrs1, children) {\n\treturn Vnode(\"[\", attrs1.key, attrs1, Vnode.normalizeChildren(children), undefined, undefined)\n}\nvar m = hyperscript\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") window.Promise = PromisePolyfill\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") global.Promise = PromisePolyfill\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key0 in object) {\n\t\tdestructure(key0, object[key0])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key0, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key0) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar FILE_PROTOCOL_REGEX = new RegExp(\"^file://\", \"i\")\nvar _8 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction setCompletionCallback(callback) {oncompletion = callback}\n\tfunction finalizer() {\n\t\tvar count = 0\n\t\tfunction complete() {if (--count === 0 && typeof oncompletion === \"function\") oncompletion()}\n\t\treturn function finalize(promise0) {\n\t\t\tvar then0 = promise0.then\n\t\t\tpromise0.then = function() {\n\t\t\t\tcount++\n\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\tcomplete()\n\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t})\n\t\t\t\treturn finalize(next)\n\t\t\t}\n\t\t\treturn promise0\n\t\t}\n\t}\n\tfunction normalize(args, extra) {\n\t\tif (typeof args === \"string\") {\n\t\t\tvar url = args\n\t\t\targs = extra || {}\n\t\t\tif (args.url == null) args.url = url\n\t\t}\n\t\treturn args\n\t}\n\tfunction request(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tif (args.method == null) args.method = \"GET\"\n\t\t\targs.method = args.method.toUpperCase()\n\t\t\tvar useBody = (args.method === \"GET\" || args.method === \"TRACE\") ? false : (typeof args.useBody === \"boolean\" ? args.useBody : true)\n\t\t\tif (typeof args.serialize !== \"function\") args.serialize = typeof FormData !== \"undefined\" && args.data instanceof FormData ? function(value) {return value} : JSON.stringify\n\t\t\tif (typeof args.deserialize !== \"function\") args.deserialize = deserialize\n\t\t\tif (typeof args.extract !== \"function\") args.extract = extract\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\tif (useBody) args.data = args.serialize(args.data)\n\t\t\telse args.url = assemble(args.url, args.data)\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(args.method, args.url, typeof args.async === \"boolean\" ? args.async : true, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (args.serialize === JSON.stringify && useBody && !(args.headers && args.headers.hasOwnProperty(\"Content-Type\"))) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (args.deserialize === deserialize && !(args.headers && args.headers.hasOwnProperty(\"Accept\"))) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tfor (var key in args.headers) if ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar response = (args.extract !== extract) ? args.extract(xhr, args) : args.deserialize(args.extract(xhr, args))\n\t\t\t\t\t\tif ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || FILE_PROTOCOL_REGEX.test(args.url)) {\n\t\t\t\t\t\t\tresolve(cast(args.type, response))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\tfor (var key in response) error[key] = response[key]\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && (args.data != null)) xhr.send(args.data)\n\t\t\telse xhr.send()\n\t\t})\n\t\treturn args.background === true ? promise0 : finalize(promise0)\n\t}\n\tfunction jsonp(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(cast(args.type, data))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tif (args.data == null) args.data = {}\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\targs.data[args.callbackKey || \"callback\"] = callbackName\n\t\t\tscript.src = assemble(args.url, args.data)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t})\n\t\treturn args.background === true? promise0 : finalize(promise0)\n\t}\n\tfunction interpolate(url, data) {\n\t\tif (data == null) return url\n\t\tvar tokens = url.match(/:[^\\/]+/gi) || []\n\t\tfor (var i = 0; i < tokens.length; i++) {\n\t\t\tvar key = tokens[i].slice(1)\n\t\t\tif (data[key] != null) {\n\t\t\t\turl = url.replace(tokens[i], data[key])\n\t\t\t}\n\t\t}\n\t\treturn url\n\t}\n\tfunction assemble(url, data) {\n\t\tvar querystring = buildQueryString(data)\n\t\tif (querystring !== \"\") {\n\t\t\tvar prefix = url.indexOf(\"?\") < 0 ? \"?\" : \"&\"\n\t\t\turl += prefix + querystring\n\t\t}\n\t\treturn url\n\t}\n\tfunction deserialize(data) {\n\t\ttry {return data !== \"\" ? JSON.parse(data) : null}\n\t\tcatch (e) {throw new Error(data)}\n\t}\n\tfunction extract(xhr) {return xhr.responseText}\n\tfunction cast(type0, data) {\n\t\tif (typeof type0 === \"function\") {\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\tdata[i] = new type0(data[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\telse return new type0(data)\n\t\t}\n\t\treturn data\n\t}\n\treturn {request: request, jsonp: jsonp, setCompletionCallback: setCompletionCallback}\n}\nvar requestService = _8(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar $emptyFragment = $doc.createDocumentFragment()\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\tvar onevent\n\tfunction setEventCallback(callback) {return onevent = callback}\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": return createText(parent, vnode, nextSibling)\n\t\t\t\tcase \"<\": return createHTML(parent, vnode, nextSibling)\n\t\t\t\tcase \"[\": return createFragment(parent, vnode, hooks, ns, nextSibling)\n\t\t\t\tdefault: return createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse return createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t\treturn vnode.dom\n\t}\n\tfunction createHTML(parent, vnode, nextSibling) {\n\t\tvar match1 = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\tvar parent1 = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}[match1[1]] || \"div\"\n\t\tvar temp = $doc.createElement(parent1)\n\t\ttemp.innerHTML = vnode.children\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs2 = vnode.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tsetLateAttrs(vnode)\n\t\t\t}\n\t\t}\n\t\treturn element\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tvnode._state = vnode.state\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tinitLifecycle(vnode._state, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tvar element = createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t\tinsertNode(parent, element, nextSibling)\n\t\t\treturn element\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t\treturn $emptyFragment\n\t\t}\n\t}\n\t//update\n\tfunction updateNodes(parent, old, vnodes, recycling, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null) removeNodes(old, 0, old.length, vnodes)\n\t\telse {\n\t\t\tif (old.length === vnodes.length) {\n\t\t\t\tvar isUnkeyed = false\n\t\t\t\tfor (var i = 0; i < vnodes.length; i++) {\n\t\t\t\t\tif (vnodes[i] != null && old[i] != null) {\n\t\t\t\t\t\tisUnkeyed = vnodes[i].key == null && old[i].key == null\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isUnkeyed) {\n\t\t\t\t\tfor (var i = 0; i < old.length; i++) {\n\t\t\t\t\t\tif (old[i] === vnodes[i]) continue\n\t\t\t\t\t\telse if (old[i] == null && vnodes[i] != null) createNode(parent, vnodes[i], hooks, ns, getNextSibling(old, i + 1, nextSibling))\n\t\t\t\t\t\telse if (vnodes[i] == null) removeNodes(old, i, i + 1, vnodes)\n\t\t\t\t\t\telse updateNode(parent, old[i], vnodes[i], hooks, getNextSibling(old, i + 1, nextSibling), recycling, ns)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\trecycling = recycling || isRecyclable(old, vnodes)\n\t\t\tif (recycling) {\n\t\t\t\tvar pool = old.pool\n\t\t\t\told = old.concat(old.pool)\n\t\t\t}\n\t\t\tvar oldStart = 0, start = 0, oldEnd = old.length - 1, end = vnodes.length - 1, map\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldStart], v = vnodes[start]\n\t\t\t\tif (o === v && !recycling) oldStart++, start++\n\t\t\t\telse if (o == null) oldStart++\n\t\t\t\telse if (v == null) start++\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldStart >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar o = old[oldEnd]\n\t\t\t\t\tif (o === v && !recycling) oldEnd--, start++\n\t\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\t\tif (recycling || start < end) insertNode(parent, toFragment(o), getNextSibling(old, oldStart, nextSibling))\n\t\t\t\t\t\toldEnd--, start++\n\t\t\t\t\t}\n\t\t\t\t\telse break\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldEnd], v = vnodes[end]\n\t\t\t\tif (o === v && !recycling) oldEnd--, end--\n\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\telse if (v == null) end--\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\tif (o.dom != null) nextSibling = o.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!map) map = getKeyMap(old, oldEnd)\n\t\t\t\t\tif (v != null) {\n\t\t\t\t\t\tvar oldIndex = map[v.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tvar movable = old[oldIndex]\n\t\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldIndex >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\t\tupdateNode(parent, movable, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\n\t\t\t\t\t\t\tinsertNode(parent, toFragment(movable), nextSibling)\n\t\t\t\t\t\t\told[oldIndex].skip = true\n\t\t\t\t\t\t\tif (movable.dom != null) nextSibling = movable.dom\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar dom = createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\tnextSibling = dom\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tend--\n\t\t\t\t}\n\t\t\t\tif (end < start) break\n\t\t\t}\n\t\t\tcreateNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\tremoveNodes(old, oldStart, oldEnd + 1, vnodes)\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode._state = old._state\n\t\t\tvnode.events = old.events\n\t\t\tif (!recycling && shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tif (recycling) {\n\t\t\t\t\t\tvnode.state = {}\n\t\t\t\t\t\tinitLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t\t}\n\t\t\t\t\telse updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, recycling, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old, null)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode, nextSibling)\n\t\t}\n\t\telse vnode.dom = old.dom, vnode.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, recycling, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, recycling, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle0 multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse if (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode.children, recycling, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tif (recycling) {\n\t\t\tinitComponent(vnode, hooks)\n\t\t} else {\n\t\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tupdateLifecycle(vnode._state, vnode, hooks)\n\t\t}\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, recycling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance, null)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction isRecyclable(old, vnodes) {\n\t\tif (old.pool != null && Math.abs(old.pool.length - vnodes.length) <= Math.abs(old.length - vnodes.length)) {\n\t\t\tvar oldChildrenLength = old[0] && old[0].children && old[0].children.length || 0\n\t\t\tvar poolChildrenLength = old.pool[0] && old.pool[0].children && old.pool[0].children.length || 0\n\t\t\tvar vnodesChildrenLength = vnodes[0] && vnodes[0].children && vnodes[0].children.length || 0\n\t\t\tif (Math.abs(poolChildrenLength - vnodesChildrenLength) <= Math.abs(oldChildrenLength - vnodesChildrenLength)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\tfunction getKeyMap(vnodes, end) {\n\t\tvar map = {}, i = 0\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key2 = vnode.key\n\t\t\t\tif (key2 != null) map[key2] = i\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\tfunction toFragment(vnode) {\n\t\tvar count0 = vnode.domSize\n\t\tif (count0 != null || vnode.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling && nextSibling.parentNode) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode) {\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end, context) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tif (vnode.skip) vnode.skip = false\n\t\t\t\telse removeNode(vnode, context)\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNode(vnode, context) {\n\t\tvar expected = 1, called = 0\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode.attrs.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode._state.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tonremove(vnode)\n\t\t\t\tif (vnode.dom) {\n\t\t\t\t\tvar count0 = vnode.domSize || 1\n\t\t\t\t\tif (count0 > 1) {\n\t\t\t\t\t\tvar dom = vnode.dom\n\t\t\t\t\t\twhile (--count0) {\n\t\t\t\t\t\t\tremoveNodeFromDOM(dom.nextSibling)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tremoveNodeFromDOM(vnode.dom)\n\t\t\t\t\tif (context != null && vnode.domSize == null && !hasIntegrationMethods(vnode.attrs) && typeof vnode.tag === \"string\") { //TODO test custom elements\n\t\t\t\t\t\tif (!context.pool) context.pool = [vnode]\n\t\t\t\t\t\telse context.pool.push(vnode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNodeFromDOM(node) {\n\t\tvar parent = node.parentNode\n\t\tif (parent != null) parent.removeChild(node)\n\t}\n\tfunction onremove(vnode) {\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") vnode.attrs.onremove.call(vnode.state, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (typeof vnode._state.onremove === \"function\") vnode._state.onremove.call(vnode.state, vnode)\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode, attrs2, ns) {\n\t\tfor (var key2 in attrs2) {\n\t\t\tsetAttr(vnode, key2, null, attrs2[key2], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key2, old, value, ns) {\n\t\tvar element = vnode.dom\n\t\tif (key2 === \"key\" || key2 === \"is\" || (old === value && !isFormAttribute(vnode, key2)) && typeof value !== \"object\" || typeof value === \"undefined\" || isLifecycleMethod(key2)) return\n\t\tvar nsLastIndex = key2.indexOf(\":\")\n\t\tif (nsLastIndex > -1 && key2.substr(0, nsLastIndex) === \"xlink\") {\n\t\t\telement.setAttributeNS(\"http://www.w3.org/1999/xlink\", key2.slice(nsLastIndex + 1), value)\n\t\t}\n\t\telse if (key2[0] === \"o\" && key2[1] === \"n\" && typeof value === \"function\") updateEvent(vnode, key2, value)\n\t\telse if (key2 === \"style\") updateStyle(element, old, value)\n\t\telse if (key2 in element && !isAttribute(key2) && ns === undefined && !isCustomElement(vnode)) {\n\t\t\tif (key2 === \"value\") {\n\t\t\t\tvar normalized0 = \"\" + value // eslint-disable-line no-implicit-coercion\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === normalized0 && vnode.dom === $doc.activeElement) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\") {\n\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\tif (vnode.dom.selectedIndex === -1 && vnode.dom === $doc.activeElement) return\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (old !== null && vnode.dom.value === normalized0 && vnode.dom === $doc.activeElement) return\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old != null && vnode.dom.value === normalized0) return\n\t\t\t}\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error0 will occur.\n\t\t\tif (vnode.tag === \"input\" && key2 === \"type\") {\n\t\t\t\telement.setAttribute(key2, value)\n\t\t\t\treturn\n\t\t\t}\n\t\t\telement[key2] = value\n\t\t}\n\t\telse {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) element.setAttribute(key2, \"\")\n\t\t\t\telse element.removeAttribute(key2)\n\t\t\t}\n\t\t\telse element.setAttribute(key2 === \"className\" ? \"class\" : key2, value)\n\t\t}\n\t}\n\tfunction setLateAttrs(vnode) {\n\t\tvar attrs2 = vnode.attrs\n\t\tif (vnode.tag === \"select\" && attrs2 != null) {\n\t\t\tif (\"value\" in attrs2) setAttr(vnode, \"value\", null, attrs2.value, undefined)\n\t\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t\t}\n\t}\n\tfunction updateAttrs(vnode, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key2 in attrs2) {\n\t\t\t\tsetAttr(vnode, key2, old && old[key2], attrs2[key2], ns)\n\t\t\t}\n\t\t}\n\t\tif (old != null) {\n\t\t\tfor (var key2 in old) {\n\t\t\t\tif (attrs2 == null || !(key2 in attrs2)) {\n\t\t\t\t\tif (key2 === \"className\") key2 = \"class\"\n\t\t\t\t\tif (key2[0] === \"o\" && key2[1] === \"n\" && !isLifecycleMethod(key2)) updateEvent(vnode, key2, undefined)\n\t\t\t\t\telse if (key2 !== \"key\") vnode.dom.removeAttribute(key2)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction isAttribute(attr) {\n\t\treturn attr === \"href\" || attr === \"list\" || attr === \"form\" || attr === \"width\" || attr === \"height\"// || attr === \"type\"\n\t}\n\tfunction isCustomElement(vnode){\n\t\treturn vnode.attrs.is || vnode.tag.indexOf(\"-\") > -1\n\t}\n\tfunction hasIntegrationMethods(source) {\n\t\treturn source != null && (source.oncreate || source.onupdate || source.onbeforeremove || source.onremove)\n\t}\n\t//style\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) element.style.cssText = \"\", old = null\n\t\tif (style == null) element.style.cssText = \"\"\n\t\telse if (typeof style === \"string\") element.style.cssText = style\n\t\telse {\n\t\t\tif (typeof old === \"string\") element.style.cssText = \"\"\n\t\t\tfor (var key2 in style) {\n\t\t\t\telement.style[key2] = style[key2]\n\t\t\t}\n\t\t\tif (old != null && typeof old !== \"string\") {\n\t\t\t\tfor (var key2 in old) {\n\t\t\t\t\tif (!(key2 in style)) element.style[key2] = \"\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode, key2, value) {\n\t\tvar element = vnode.dom\n\t\tvar callback = typeof onevent !== \"function\" ? value : function(e) {\n\t\t\tvar result = value.call(element, e)\n\t\t\tonevent.call(element, e)\n\t\t\treturn result\n\t\t}\n\t\tif (key2 in element) element[key2] = typeof value === \"function\" ? callback : null\n\t\telse {\n\t\t\tvar eventName = key2.slice(2)\n\t\t\tif (vnode.events === undefined) vnode.events = {}\n\t\t\tif (vnode.events[key2] === callback) return\n\t\t\tif (vnode.events[key2] != null) element.removeEventListener(eventName, vnode.events[key2], false)\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tvnode.events[key2] = callback\n\t\t\t\telement.addEventListener(eventName, vnode.events[key2], false)\n\t\t\t}\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") source.oninit.call(vnode.state, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(source.oncreate.bind(vnode.state, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(source.onupdate.bind(vnode.state, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tvar forceVnodeUpdate, forceComponentUpdate\n\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") forceVnodeUpdate = vnode.attrs.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeupdate === \"function\") forceComponentUpdate = vnode._state.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (!(forceVnodeUpdate === undefined && forceComponentUpdate === undefined) && !forceVnodeUpdate && !forceComponentUpdate) {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = $doc.activeElement\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time0 rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tif (!Array.isArray(vnodes)) vnodes = [vnodes]\n\t\tupdateNodes(dom, dom.vnodes, Vnode.normalizeChildren(vnodes), false, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\tdom.vnodes = vnodes\n\t\t// document.activeElement can return null in IE https://developer.mozilla.org/en-US/docs/Web/API/Document/activeElement\n\t\tif (active != null && $doc.activeElement !== active) active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n\treturn {render: render, setEventCallback: setEventCallback}\n}\nfunction throttle(callback) {\n\t//60fps translates to 16.6ms, round it down since setTimeout requires int\n\tvar time = 16\n\tvar last = 0, pending = null\n\tvar timeout = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : setTimeout\n\treturn function() {\n\t\tvar now = Date.now()\n\t\tif (last === 0 || now - last >= time) {\n\t\t\tlast = now\n\t\t\tcallback()\n\t\t}\n\t\telse if (pending === null) {\n\t\t\tpending = timeout(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t\tlast = Date.now()\n\t\t\t}, time - (now - last))\n\t\t}\n\t}\n}\nvar _11 = function($window) {\n\tvar renderService = coreRenderer($window)\n\trenderService.setEventCallback(function(e) {\n\t\tif (e.redraw === false) e.redraw = undefined\n\t\telse redraw()\n\t})\n\tvar callbacks = []\n\tfunction subscribe(key1, callback) {\n\t\tunsubscribe(key1)\n\t\tcallbacks.push(key1, throttle(callback))\n\t}\n\tfunction unsubscribe(key1) {\n\t\tvar index = callbacks.indexOf(key1)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction redraw() {\n\t\tfor (var i = 1; i < callbacks.length; i += 2) {\n\t\t\tcallbacks[i]()\n\t\t}\n\t}\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _11(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _16 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\tredrawService0.redraw()\n\t}\n}\nm.mount = _16(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data0 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key5 = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\t\tvar levels = key5.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data0\n\t\tif (key5.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key5 = levels.slice(0, j).join()\n\t\t\t\tif (counters[key5] == null) counters[key5] = 0\n\t\t\t\tlevel = counters[key5]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data0\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize1(fragment0) {\n\t\tvar data = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data[0] !== \"/\") data = \"/\" + data\n\t\treturn data\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback0) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback0()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key4 in queryParams) queryData[key4] = queryParams[key4]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key4 in hashParams) hashData[key4] = hashParams[key4]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize1(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize1(\"search\").slice(router.prefix.length) + normalize1(\"hash\")\n\t\t\tdefault: return normalize1(\"pathname\").slice(router.prefix.length) + normalize1(\"search\") + normalize1(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data != null) {\n\t\t\tfor (var key4 in data) queryData[key4] = data[key4]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match2, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _20 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v) {return v}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tvar run1 = function() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\trun1()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t\tredrawService0.subscribe(root, run1)\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix0) {routeService.prefix = prefix0}\n\troute.link = function(vnode1) {\n\t\tvnode1.dom.setAttribute(\"href\", routeService.prefix + vnode1.attrs.href)\n\t\tvnode1.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, undefined)\n\t\t}\n\t}\n\troute.param = function(key3) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key3 !== \"undefined\") return attrs3[key3]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _20(window, redrawService)\nm.withAttr = function(attrName, callback1, context) {\n\treturn function(e) {\n\t\tcallback1.call(context || this, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName))\n\t}\n}\nvar _28 = coreRenderer(window)\nm.render = _28.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"1.1.6\"\nm.vnode = Vnode\nif (typeof module !== \"undefined\") module[\"exports\"] = m\nelse window.m = m\n}());","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Actions} from '../common/actions';\nimport {TimeSpan} from '../common/time';\n\nimport {globals} from './globals';\nimport {TimeScale} from './time_scale';\n\n/**\n * State that is shared between several frontend components, but not the\n * controller. This state is updated at 60fps.\n */\nexport class FrontendLocalState {\n  visibleWindowTime = new TimeSpan(0, 10);\n  timeScale = new TimeScale(this.visibleWindowTime, [0, 0]);\n  private _visibleTimeLastUpdate = 0;\n  private pendingGlobalTimeUpdate?: TimeSpan;\n  perfDebug = false;\n\n  // TODO: there is some redundancy in the fact that both |visibleWindowTime|\n  // and a |timeScale| have a notion of time range. That should live in one\n  // place only.\n  updateVisibleTime(ts: TimeSpan) {\n    const startSec = Math.max(ts.start, globals.state.traceTime.startSec);\n    const endSec = Math.min(ts.end, globals.state.traceTime.endSec);\n    this.visibleWindowTime = new TimeSpan(startSec, endSec);\n    this.timeScale.setTimeBounds(this.visibleWindowTime);\n    this._visibleTimeLastUpdate = Date.now() / 1000;\n\n    // Post a delayed update to the controller.\n    const alreadyPosted = this.pendingGlobalTimeUpdate !== undefined;\n    this.pendingGlobalTimeUpdate = this.visibleWindowTime;\n    if (alreadyPosted) return;\n    setTimeout(() => {\n      this._visibleTimeLastUpdate = Date.now() / 1000;\n      globals.dispatch(Actions.setVisibleTraceTime({\n        startSec: this.pendingGlobalTimeUpdate!.start,\n        endSec: this.pendingGlobalTimeUpdate!.end,\n        lastUpdate: this._visibleTimeLastUpdate,\n      }));\n      this.pendingGlobalTimeUpdate = undefined;\n    }, 100);\n  }\n\n  get visibleTimeLastUpdate() {\n    return this._visibleTimeLastUpdate;\n  }\n\n  togglePerfDebug() {\n    this.perfDebug = !this.perfDebug;\n    globals.rafScheduler.scheduleFullRedraw();\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {TimeSpan} from '../common/time';\n\n/**\n * Defines a mapping between number and Milliseconds for the entire application.\n * Linearly scales time values from boundsMs to pixel values in boundsPx and\n * back.\n */\nexport class TimeScale {\n  private timeBounds: TimeSpan;\n  private startPx: number;\n  private endPx: number;\n  private secPerPx = 0;\n\n  constructor(timeBounds: TimeSpan, boundsPx: [number, number]) {\n    this.timeBounds = timeBounds;\n    this.startPx = boundsPx[0];\n    this.endPx = boundsPx[1];\n    this.updateSlope();\n  }\n\n  private updateSlope() {\n    this.secPerPx = this.timeBounds.duration / (this.endPx - this.startPx);\n  }\n\n  deltaTimeToPx(time: number): number {\n    return Math.round(time / this.secPerPx);\n  }\n\n  timeToPx(time: number): number {\n    return this.startPx + (time - this.timeBounds.start) / this.secPerPx;\n  }\n\n  pxToTime(px: number): number {\n    return this.timeBounds.start + (px - this.startPx) * this.secPerPx;\n  }\n\n  deltaPxToDuration(px: number): number {\n    return px * this.secPerPx;\n  }\n\n  setTimeBounds(timeBounds: TimeSpan) {\n    this.timeBounds = timeBounds;\n    this.updateSlope();\n  }\n\n  setLimitsPx(pxStart: number, pxEnd: number) {\n    this.startPx = pxStart;\n    this.endPx = pxEnd;\n    this.updateSlope();\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {assertTrue} from '../base/logging';\n\nexport function timeToString(sec: number) {\n  const units = ['s', 'ms', 'us', 'ns'];\n  const sign = Math.sign(sec);\n  let n = Math.abs(sec);\n  let u = 0;\n  while (n < 1 && n !== 0 && u < units.length - 1) {\n    n *= 1000;\n    u++;\n  }\n  return `${sign < 0 ? '-' : ''}${Math.round(n * 10) / 10} ${units[u]}`;\n}\n\nexport function fromNs(ns: number) {\n  return ns / 1e9;\n}\n\nexport class TimeSpan {\n  readonly start: number;\n  readonly end: number;\n\n  constructor(start: number, end: number) {\n    assertTrue(start <= end);\n    this.start = start;\n    this.end = end;\n  }\n\n  get duration() {\n    return this.end - this.start;\n  }\n\n  add(sec: number): TimeSpan {\n    return new TimeSpan(this.start + sec, this.end + sec);\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// TODO(hjd): Dedupe these.\nconst SLICE_HEIGHT = 30;\nconst TRACK_PADDING = 5;\n\n/**\n * Checker board the range [leftPx, rightPx].\n */\nexport function checkerboard(\n    ctx: CanvasRenderingContext2D, leftPx: number, rightPx: number): void {\n  const widthPx = rightPx - leftPx;\n  ctx.font = '12px Google Sans';\n  ctx.fillStyle = '#eee';\n  ctx.fillRect(leftPx, TRACK_PADDING, widthPx, SLICE_HEIGHT);\n  ctx.fillStyle = '#666';\n  ctx.fillText(\n      'loading...',\n      leftPx + widthPx / 2,\n      TRACK_PADDING + SLICE_HEIGHT / 2,\n      widthPx);\n}\n\n/**\n * Checker board everything between [startPx, endPx] except [leftPx, rightPx].\n */\nexport function checkerboardExcept(\n    ctx: CanvasRenderingContext2D,\n    startPx: number,\n    endPx: number,\n    leftPx: number,\n    rightPx: number): void {\n  // [leftPx, rightPx] doesn't overlap [startPx, endPx] at all:\n  if (rightPx <= startPx || leftPx >= endPx) {\n    checkerboard(ctx, startPx, endPx);\n    return;\n  }\n\n  // Checkerboard [startPx, leftPx]:\n  if (leftPx > startPx) {\n    checkerboard(ctx, startPx, leftPx);\n  }\n\n  // Checkerboard [rightPx, endPx]:\n  if (rightPx < endPx) {\n    checkerboard(ctx, rightPx, endPx);\n  }\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {DraftObject} from 'immer';\n\nimport {assertExists} from '../base/logging';\n\nimport {\n  defaultTraceTime,\n  SCROLLING_TRACK_GROUP,\n  State,\n  Status,\n  TraceTime\n} from './state';\n\ntype StateDraft = DraftObject<State>;\n\n\nfunction clearTraceState(state: StateDraft) {\n  state.traceTime = defaultTraceTime;\n  state.visibleTraceTime = defaultTraceTime;\n  state.pinnedTracks = [];\n  state.scrollingTracks = [];\n}\n\nexport const StateActions = {\n\n  navigate(state: StateDraft, args: {route: string}): void {\n    state.route = args.route;\n  },\n\n  openTraceFromFile(state: StateDraft, args: {file: File}): void {\n    clearTraceState(state);\n    const id = `${state.nextId++}`;\n    state.engines[id] = {\n      id,\n      ready: false,\n      source: args.file,\n    };\n    state.route = `/viewer`;\n  },\n\n  openTraceFromUrl(state: StateDraft, args: {url: string}): void {\n    clearTraceState(state);\n    const id = `${state.nextId++}`;\n    state.engines[id] = {\n      id,\n      ready: false,\n      source: args.url,\n    };\n    state.route = `/viewer`;\n  },\n\n  addTrack(state: StateDraft, args: {\n    id?: string; engineId: string; kind: string; name: string;\n    trackGroup?: string;\n    config: {};\n  }): void {\n    const id = args.id !== undefined ? args.id : `${state.nextId++}`;\n    state.tracks[id] = {\n      id,\n      engineId: args.engineId,\n      kind: args.kind,\n      name: args.name,\n      trackGroup: args.trackGroup,\n      config: args.config,\n    };\n    if (args.trackGroup === SCROLLING_TRACK_GROUP) {\n      state.scrollingTracks.push(id);\n    } else if (args.trackGroup !== undefined) {\n      assertExists(state.trackGroups[args.trackGroup]).tracks.push(id);\n    }\n  },\n\n  addTrackGroup(\n      state: StateDraft,\n      // Define ID in action so a track group can be referred to without running\n      // the reducer.\n      args: {\n        engineId: string; name: string; id: string; summaryTrack: string;\n        collapsed: boolean;\n      }): void {\n    state.trackGroups[args.id] = {\n      ...args,\n      tracks: [],\n    };\n  },\n\n  reqTrackData(state: StateDraft, args: {\n    trackId: string; start: number; end: number; resolution: number;\n  }): void {\n    const id = args.trackId;\n    state.tracks[id].dataReq = {\n      start: args.start,\n      end: args.end,\n      resolution: args.resolution\n    };\n  },\n\n  clearTrackDataReq(state: StateDraft, args: {trackId: string}): void {\n    const id = args.trackId;\n    state.tracks[id].dataReq = undefined;\n  },\n\n  // TODO(dproy): Reduce duplication with reqTrackData.\n  reqTrackGroupData(state: StateDraft, args: {\n    trackGroupId: string; start: number; end: number; resolution: number;\n  }): void {\n    const id = args.trackGroupId;\n    state.trackGroups[id].dataReq = {\n      start: args.start,\n      end: args.end,\n      resolution: args.resolution\n    };\n  },\n\n  // TODO(dproy): Reduce duplication with clearTrackDataReq.\n  clearTrackGroupDataReq(state: StateDraft, args: {trackGroupId: string}):\n      void {\n        const id = args.trackGroupId;\n        state.trackGroups[id].dataReq = undefined;\n      },\n\n  executeQuery(\n      state: StateDraft,\n      args: {queryId: string; engineId: string; query: string}): void {\n    state.queries[args.queryId] = {\n      id: args.queryId,\n      engineId: args.engineId,\n      query: args.query,\n    };\n  },\n\n  deleteQuery(state: StateDraft, args: {queryId: string}): void {\n    delete state.queries[args.queryId];\n  },\n\n  moveTrack(\n      state: StateDraft, args: {trackId: string; direction: 'up' | 'down';}):\n      void {\n        const id = args.trackId;\n        const isPinned = state.pinnedTracks.includes(id);\n        const isScrolling = state.scrollingTracks.includes(id);\n        if (!isScrolling && !isPinned) {\n          // TODO(dproy): Handle track moving within track groups.\n          return;\n        }\n        const tracks = isPinned ? state.pinnedTracks : state.scrollingTracks;\n\n        const oldIndex: number = tracks.indexOf(id);\n        const newIndex = args.direction === 'up' ? oldIndex - 1 : oldIndex + 1;\n        const swappedTrackId = tracks[newIndex];\n        if (isPinned && newIndex === state.pinnedTracks.length) {\n          // Move from last element of pinned to first element of scrolling.\n          state.scrollingTracks.unshift(state.pinnedTracks.pop()!);\n        } else if (isScrolling && newIndex === -1) {\n          // Move first element of scrolling to last element of pinned.\n          state.pinnedTracks.push(state.scrollingTracks.shift()!);\n        } else if (swappedTrackId) {\n          tracks[newIndex] = id;\n          tracks[oldIndex] = swappedTrackId;\n        }\n      },\n\n  toggleTrackPinned(state: StateDraft, args: {trackId: string}): void {\n    const id = args.trackId;\n    const isPinned = state.pinnedTracks.includes(id);\n    const trackGroup = assertExists(state.tracks[id]).trackGroup;\n\n    if (isPinned) {\n      state.pinnedTracks.splice(state.pinnedTracks.indexOf(id), 1);\n      if (trackGroup === undefined) {\n        state.scrollingTracks.unshift(id);\n      }\n    } else {\n      if (trackGroup === undefined) {\n        state.scrollingTracks.splice(state.scrollingTracks.indexOf(id), 1);\n      }\n      state.pinnedTracks.push(id);\n    }\n  },\n\n  toggleTrackGroupCollapsed(state: StateDraft, args: {trackGroupId: string}):\n      void {\n        const id = args.trackGroupId;\n        const trackGroup = assertExists(state.trackGroups[id]);\n        trackGroup.collapsed = !trackGroup.collapsed;\n      },\n\n  setEngineReady(state: StateDraft, args: {engineId: string; ready: boolean}):\n      void {\n        state.engines[args.engineId].ready = args.ready;\n      },\n\n  createPermalink(state: StateDraft, args: {requestId: string}): void {\n    state.permalink = {requestId: args.requestId, hash: undefined};\n  },\n\n  setPermalink(state: StateDraft, args: {requestId: string; hash: string}):\n      void {\n        // Drop any links for old requests.\n        if (state.permalink.requestId !== args.requestId) return;\n        state.permalink = args;\n      },\n\n  loadPermalink(state: StateDraft, args: {requestId: string; hash: string}):\n      void {\n        state.permalink = args;\n      },\n\n  setTraceTime(state: StateDraft, args: TraceTime): void {\n    state.traceTime = args;\n  },\n\n  setVisibleTraceTime(state: StateDraft, args: TraceTime): void {\n    state.visibleTraceTime = args;\n  },\n\n  updateStatus(state: StateDraft, args: Status): void {\n    state.status = args;\n  },\n\n  // TODO(hjd): Remove setState - it causes problems due to reuse of ids.\n  setState(_state: StateDraft, _args: {newState: State}): void {\n    // This has to be handled at a higher level since we can't\n    // replace the whole tree here however we still need a method here\n    // so it appears on the proxy Actions class.\n    throw new Error('Called setState on StateActions.');\n  },\n\n  // TODO(hjd): Parametrize this to increase type safety. See comments on\n  // aosp/778194\n  setConfigControl(\n      state: StateDraft,\n      args: {name: string; value: string | number | boolean;}): void {\n    const config = state.recordConfig;\n    config[args.name] = args.value;\n  },\n\n  addConfigControl(state: StateDraft, args: {name: string; option: string;}):\n      void {\n        // tslint:disable-next-line no-any\n        const config = state.recordConfig as any;\n        const options = config[args.name];\n        if (options.includes(args.option)) return;\n        options.push(args.option);\n      },\n\n  removeConfigControl(state: StateDraft, args: {name: string; option: string;}):\n      void {\n        // tslint:disable-next-line no-any\n        const config = state.recordConfig as any;\n        const options = config[args.name];\n        const index = options.indexOf(args.option);\n        if (index === -1) return;\n        options.splice(index, 1);\n      },\n};\n\n// When we are on the frontend side, we don't really want to execute the\n// actions above, we just want to serialize them and marshal their\n// arguments, send them over to the controller side and have them being\n// executed there. The magic below takes care of turning each action into a\n// function that returns the marshaled args.\n\n// A DeferredAction is a bundle of Args and a method name. This is the marshaled\n// version of a StateActions method call.\nexport interface DeferredAction<Args = {}> {\n  type: string;\n  args: Args;\n}\n\n// This type magic creates a type function DeferredActions<T> which takes a type\n// T and 'maps' its attributes. For each attribute on T matching the signature:\n// (state: StateDraft, args: Args) => void\n// DeferredActions<T> has an attribute:\n// (args: Args) => DeferredAction<Args>\ntype ActionFunction<Args> = (state: StateDraft, args: Args) => void;\ntype DeferredActionFunc<T> = T extends ActionFunction<infer Args>?\n    (args: Args) => DeferredAction<Args>:\n    never;\ntype DeferredActions<C> = {\n  [P in keyof C]: DeferredActionFunc<C[P]>;\n};\n\n// Actions is an implementation of DeferredActions<typeof StateActions>.\n// (since StateActions is a variable not a type we have to do\n// 'typeof StateActions' to access the (unnamed) type of StateActions).\n// It's a Proxy such that any attribute access returns a function:\n// (args) => {return {type: ATTRIBUTE_NAME, args};}\nexport const Actions =\n    // tslint:disable-next-line no-any\n    new Proxy<DeferredActions<typeof StateActions>>({} as any, {\n      // tslint:disable-next-line no-any\n      get(_: any, prop: string, _2: any) {\n        return (args: {}): DeferredAction<{}> => {\n          return {\n            type: prop,\n            args,\n          };\n        };\n      },\n    });\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * A plain js object, holding objects of type |Class| keyed by string id.\n * We use this instead of using |Map| object since it is simpler and faster to\n * serialize for use in postMessage.\n */\nexport interface ObjectById<Class extends{id: string}> { [id: string]: Class; }\n\nexport const SCROLLING_TRACK_GROUP = 'ScrollingTracks';\n\nexport interface TrackState {\n  id: string;\n  engineId: string;\n  kind: string;\n  name: string;\n  trackGroup?: string;\n  dataReq?: TrackDataRequest;\n  config: {};\n}\n\nexport interface TrackGroupState {\n  id: string;\n  engineId: string;\n  name: string;\n  collapsed: boolean;\n  tracks: string[];  // Child track ids.\n  summaryTrack: string;\n  dataReq?: TrackDataRequest;\n}\n\nexport interface TrackDataRequest {\n  start: number;\n  end: number;\n  resolution: number;\n}\n\nexport interface EngineConfig {\n  id: string;\n  ready: boolean;\n  source: string|File;\n}\n\nexport interface QueryConfig {\n  id: string;\n  engineId: string;\n  query: string;\n}\n\nexport interface PermalinkConfig {\n  requestId?: string;  // Set by the frontend to request a new permalink.\n  hash?: string;       // Set by the controller when the link has been created.\n}\n\nexport interface RecordConfig {\n  [key: string]: number|boolean|string|string[];\n  durationSeconds: number;\n  bufferSizeMb: number;\n  processMetadata: boolean;\n  scanAllProcessesOnStart: boolean;\n  ftrace: boolean;\n  ftraceEvents: string[];\n  atraceCategories: string[];\n  atraceApps: string[];\n}\n\nexport interface TraceTime {\n  startSec: number;\n  endSec: number;\n  lastUpdate: number;  // Epoch in seconds (Date.now() / 1000).\n}\n\nexport interface Status {\n  msg: string;\n  timestamp: number;  // Epoch in seconds (Date.now() / 1000).\n}\n\nexport interface State {\n  route: string|null;\n  nextId: number;\n\n  /**\n   * State of the ConfigEditor.\n   */\n  recordConfig: RecordConfig;\n\n  /**\n   * Open traces.\n   */\n  engines: ObjectById<EngineConfig>;\n  traceTime: TraceTime;\n  visibleTraceTime: TraceTime;\n  trackGroups: ObjectById<TrackGroupState>;\n  tracks: ObjectById<TrackState>;\n  scrollingTracks: string[];\n  pinnedTracks: string[];\n  queries: ObjectById<QueryConfig>;\n  permalink: PermalinkConfig;\n  status: Status;\n}\n\nexport const defaultTraceTime = {\n  startSec: 0,\n  endSec: 10,\n  lastUpdate: 0\n};\n\nexport function createEmptyState(): State {\n  return {\n    route: null,\n    nextId: 0,\n    engines: {},\n    traceTime: {...defaultTraceTime},\n    visibleTraceTime: {...defaultTraceTime},\n    tracks: {},\n    trackGroups: {},\n    pinnedTracks: [],\n    scrollingTracks: [],\n    queries: {},\n    permalink: {},\n    recordConfig: createEmptyRecordConfig(),\n    status: {msg: '', timestamp: 0},\n  };\n}\n\nexport function createEmptyRecordConfig(): RecordConfig {\n  return {\n    durationSeconds: 10.0,\n    bufferSizeMb: 10.0,\n    processMetadata: false,\n    scanAllProcessesOnStart: false,\n    ftrace: false,\n    ftraceEvents: [],\n    atraceApps: [],\n    atraceCategories: [],\n  };\n}\n","// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport function assertExists<A>(value: A | null | undefined): A {\n  if (value === null || value === undefined) {\n    throw new Error('Value doesn\\'t exist');\n  }\n  return value;\n}\n\nexport function assertTrue(value: boolean): boolean {\n  if (value !== true) {\n    throw new Error('Failed assertion');\n  }\n  return value;\n}\n"],"names":["router","globals_1","actions_1","m","remote_1","record_page_1","viewer_page_1","home_page_1","router_1","time_1","pages_1","panel_container_1","time_axis_panel_1","overview_timeline_panel_1","track_group_panel_1","flame_graph_panel_1","header_panel_1","track_panel_1","pan_and_zoom_handler_1","clipboard_1","panel_1","gridline_helper_1","logging_1","track_registry_1","perf_1","panel","drag_gesture_handler_1","animation_1","time_scale_1","topbar_1","sidebar_1","deferred_1","common_1","track_1","registry_1","state","raf_scheduler_1","frontend_local_state_1","state_1","global"],"mappings":"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"}